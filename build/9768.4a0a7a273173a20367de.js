"use strict";(self.webpackChunkimc2025=self.webpackChunkimc2025||[]).push([[9768],{578:(e,t,a)=>{a.d(t,{A:()=>d});const s="index-module__cursor--VNUwr";var n=a(6942),i=a.n(n),r=a(8027),l=a(6540),c=a(5846),o=a(4848);const d=e=>{let{participants:t,withActions:a=!0,customActions:n=null,onDelete:d=null}=e;const[m,p]=(0,l.useState)(null),[h,u]=(0,l.useState)("asc"),x=e=>{m===e?u("asc"===h?"desc":"asc"):(p(e),u("asc"))},f=[...t].sort(((e,t)=>{if(!m)return 0;let a=e[m],s=t[m];return["total_due","total_paid","paypal_fee"].includes(m)&&(a=parseFloat(a)||0,s=parseFloat(s)||0),"created_at"!==m&&"confirmation_date"!==m||(a=new Date(a).getTime()||0,s=new Date(s).getTime()||0),a<s?"asc"===h?-1:1:a>s?"asc"===h?1:-1:0}));return(0,o.jsx)("div",{className:"table-responsive",style:{maxWidth:"calc(100vw - 2rem)"},children:(0,o.jsxs)("table",{className:"table table-striped",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{className:s,onClick:()=>x("id"),children:"#"}),(0,o.jsx)("th",{className:s,onClick:()=>x("created_at"),children:"Reg. Date"}),(0,o.jsx)("th",{className:s,onClick:()=>x("last_name"),children:"Name"}),(0,o.jsx)("th",{className:s,onClick:()=>x("total_due"),children:"Total"}),(0,o.jsx)("th",{className:s,onClick:()=>x("total_paid"),children:"Paid"}),(0,o.jsx)("th",{className:s,onClick:()=>x("due_amount"),children:"Due"}),(0,o.jsx)("th",{className:s,onClick:()=>x("payment_method"),children:"Method"}),(0,o.jsx)("th",{className:s,onClick:()=>x("confirmation_sent"),children:"Confirmed"}),(0,o.jsx)("th",{className:s,onClick:()=>x("confirmation_date"),children:"Conf. Email"}),(a||n)&&(0,o.jsx)("th",{})]})}),(0,o.jsx)("tbody",{children:f.length>0?f.map((e=>{const t=parseFloat(e.total_due)||0,s=parseFloat(e.total_paid)||0,l=parseFloat(e.paypal_fee||0),m="paypal"===e.payment_method_name?.toLowerCase(),p=m?t+l-s:t-s;return(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:e.id}),(0,o.jsx)("td",{children:e.created_at.split(" ")[0]}),(0,o.jsxs)("td",{children:[e.title," ",e.first_name," ",e.last_name]}),(0,o.jsxs)("td",{children:[m?(t+l).toFixed(2):t.toFixed(2),"€"]}),(0,o.jsxs)("td",{children:[s.toFixed(2),"€"]}),(0,o.jsxs)("td",{className:i()({"text-success":0===p}),children:[p.toFixed(2),"€"]}),(0,o.jsx)("td",{children:e.payment_method_name||"n/a"}),(0,o.jsx)("td",{children:"1"===e.confirmation_sent?"✅":"❌"}),(0,o.jsx)("td",{className:i()(e?.confirmation_date&&"text-success"),children:e.confirmation_date?(0,c.Lu)(e.confirmation_date):"❌"}),a&&d&&(0,o.jsx)("td",{children:(0,o.jsxs)("div",{className:"d-flex gap-2 justify-content-end",children:[(0,o.jsx)("a",{href:`/admin/participants/online/payment/${e.id}`,className:"btn btn-sm btn-outline-success fw-bolder",children:"Payments"}),(0,o.jsx)("a",{href:`/admin/participants/online/${e.id}`,className:"btn btn-sm btn-outline-primary fw-bolder",children:"Edit"}),(0,o.jsx)("button",{className:"btn btn-sm btn-outline-danger fw-bolder",onClick:()=>(e=>{d?.(e)})(e),children:(0,o.jsx)(r.H8h,{})})]})}),n&&(0,o.jsx)(o.Fragment,{children:n})]},e.id)})):(0,o.jsx)("tr",{children:(0,o.jsx)("td",{colSpan:a?10:9,className:"text-center",children:"No participants found."})})})]})})}},914:(e,t,a)=>{a.d(t,{Z:()=>n});var s=a(1083);const n=async e=>{let{subject:t,message:a,to:n,toName:i,fromName:r,replyTo:l,replyName:c,bcc:o=[],token:d=null}=e;try{return"success"===(await s.A.post("https://www.imo.net/members/api/imc_mailer_api/send_email",{subject:t,message:a,to:n,to_name:i,from_name:r,reply_to:l,reply_name:c,bcc:o,token:d},{headers:{"Content-Type":"application/json"}})).data.status?{success:!0,message:"Email sent successfully."}:{success:!1,message:"Failed to send email."}}catch(e){return console.error("Error sending email:",e),{success:!1,message:"An error occurred while sending the email."}}}},2337:(e,t,a)=>{a.d(t,{A:()=>i});a(6540);var s=a(4848);const n=e=>Math.round(100*(e+(.034*e+.35)/.966))/100,i=e=>{let{isOnline:t,conferenceData:a,participantData:i,registrationTypes:r,paymentMethods:l}=e;if(!i||!i.participant)return(0,s.jsx)("div",{className:"alert alert-danger",children:"No participant data available."});const{participant:c,accommodation:o,workshops:d,extra_options:m,contributions:p=[],payments:h=[]}=i;let u=0,x="";if(!t){const e=((e,t)=>{const a=t.find((t=>t.id===e));return a?{description:t[t.length-1].id===e?"(no accommodation)":"+ "+a.description,price:parseFloat(a.price)}:"Description not found"})(o.registration_type_id,r);x=e.description;const t="0"===c.is_early_bird?a.costs.after_early_birds:0;u=e.price+t}const{selected:f,totalPrice:j}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;if(!Array.isArray(e))return{selected:[],totalPrice:0};const a=e.map((e=>({title:e.title,price:t?parseFloat(e.price_online):parseFloat(e.price)}))),s=a.reduce(((e,t)=>e+t.price),0);return{selected:a,totalPrice:s}}(d,t),b="1"===m?.buy_tshirt||"true"===m?.buy_tshirt?parseFloat(a.costs.tshirts.price):0,y=p.filter((e=>"1"===e.print||"true"===e.print)).length,N=y*a.poster_print.price,g="paypal"===(c.payment_method_name||"Unknown").toLowerCase();let _=u+j+b+N;const w=g?n(_)-_:0;_+=w;const v=a.costs.online;let C=j+v;const S=g?n(C)-C:0;return C+=S,(0,s.jsxs)("div",{className:"p-2 border rounded flex-shrink-0",children:[(0,s.jsx)("h4",{className:"mb-3",children:"Invoice Summary"}),(0,s.jsxs)("table",{className:"table table-striped table-hover",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{scope:"col",children:"Description"}),(0,s.jsx)("th",{scope:"col",className:"text-end",children:"Price"})]})}),(0,s.jsxs)("tbody",{children:[t?(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"ps-3 text-muted",children:"Online Conference Registration"}),(0,s.jsxs)("td",{className:"text-end",children:[v.toFixed(2),"€"]})]}):(0,s.jsxs)("tr",{children:[(0,s.jsxs)("td",{className:"ps-3 text-muted",children:["Conference Registration ",x]}),(0,s.jsxs)("td",{className:"text-end",children:[u.toFixed(2),"€"]})]}),f.map(((e,t)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"ps-3 text-muted",children:e.title}),(0,s.jsxs)("td",{className:"text-end",children:[e.price.toFixed(2),"€"]})]},t))),y>0&&(0,s.jsxs)("tr",{children:[(0,s.jsxs)("td",{className:"ps-3 text-muted",children:["Printed Poster",y>1?"s":""," x ",y]}),(0,s.jsxs)("td",{className:"text-end",children:[N.toFixed(2),"€"]})]}),b>0&&m?.tshirt_size&&(0,s.jsxs)("tr",{children:[(0,s.jsxs)("td",{className:"ps-3 text-muted",children:["T-Shirt (",m.tshirt_size,")"]}),(0,s.jsxs)("td",{className:"text-end",children:[b.toFixed(2),"€"]})]}),g&&(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"ps-3 text-muted",children:"PayPal Fee (3.4% + 0.35€)"}),(0,s.jsxs)("td",{className:"text-end",children:[t?S.toFixed(2):w.toFixed(2),"€"]})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)("strong",{children:"TOTAL"})}),(0,s.jsx)("td",{className:"text-end",children:(0,s.jsxs)("strong",{children:[t?C.toFixed(2):_.toFixed(2),"€"]})})]})]})]})]})}},4204:(e,t,a)=>{a.r(t),a.d(t,{default:()=>w});var s=a(6512),n=a(578);const i={col:"index-module__col--xCPfA",textInput:"index-module__textInput--bmdEf"};var r=a(6942),l=a.n(r),c=a(7647),o=a(6540),d=a(6645),m=a(8232),p=a(2337),h=a(7767),u=a(7762),x=a(9785),f=a(1083),j=a(3318);const b=e=>{const[t,a]=(0,o.useState)([]),[s,n]=(0,o.useState)(!1),[i,r]=(0,o.useState)(null),l=(0,o.useCallback)((async()=>{if(e){n(!0),r(null);try{const t=await(0,j.L)((()=>f.A.get(`https://imc2025.imo.net/php/admin/api/get_payments.php?id=${e}`)));t.data.success?a(t.data.data||[]):r(t.data.message||"Error fetching payments.")}catch(e){r(e.message||"Error fetching payments.")}finally{n(!1)}}}),[e]);return(0,o.useEffect)((()=>{l()}),[l]),{payments:t,loading:s,error:i,refetchPayments:l}};var y=a(4493),N=a(4972);var g=a(914),_=a(4848);const w=e=>{let{isCurOnline:t=!1}=e;const{participantId:a}=(0,h.g)(),[r,w]=(0,o.useState)(!1),[v,C]=(0,o.useState)(""),[S,F]=(0,o.useState)(null),[P,k]=(0,o.useState)(null),[A,I]=(0,o.useState)(null),[M,E]=(0,o.useState)(null),[D,T]=(0,o.useState)(!1),[$,O]=(0,o.useState)(!1),[L,R]=(0,o.useState)(!1),[W,q]=(0,o.useState)(""),[B,V]=(0,o.useState)(!1),{workshops:z,paymentMethods:H,registrationTypes:U,loading:Z,sessions:Q,error:Y}=(0,y.Q)(),{participant:G,loading:J,error:K}=(0,N.D)(a,t,D),{payments:X,loading:ee,error:te,refetchPayments:ae}=b(a),{addPayment:se}=(e=>{const[t,a]=(0,o.useState)(!1),[s,n]=(0,o.useState)(null),{refetchPayments:i}=b(e);return{addPayment:(0,o.useCallback)((async t=>{if(e){a(!0),n(null);try{const e=await(0,j.L)((()=>f.A.post("https://imc2025.imo.net/php/admin/api/add_payment.php",{paymentData:t},{headers:{"Content-Type":"application/json"}})));if(e.data.success)return await i(),{success:!0,message:"Payment added successfully!"};throw new Error(e.data.message||"Failed to add payment.")}catch(e){return n(e.message||"Error adding payment."),{success:!1,message:e.message}}finally{a(!1)}}}),[e,i]),loading:t,error:s}})(a),{confirmParticipant:ne,isConfirming:ie,errorConfirm:re}=(()=>{const[e,t]=(0,o.useState)(null),[a,s]=(0,o.useState)(!1);return{confirmParticipant:async(e,a)=>{if(!e)return null;s(!0),t(null);try{return(await f.A.post("https://imc2025.imo.net/php/admin/api/confirm.php",{id:e,...a})).data}catch(e){const a=e.response?.data?.message||"An unexpected error occurred.";return t(a),{success:!1,message:a}}finally{s(!1)}},errorConfirm:e,isConfirming:a}})(),{formState:{errors:le},register:ce,handleSubmit:oe,isSubmitting:de,setValue:me,watch:pe,reset:he}=(0,x.mN)({defaultValues:{amount:"",paymentMethodId:"",paymentDate:(new Date).toISOString().split("T")[0],adminNote:""}}),ue=Z||J||de||ee,xe=K||Y||te||S;(0,o.useEffect)((()=>{G&&G.participant&&me("paymentMethodId",G.participant.payment_method_id||"")}),[G,me]),(0,o.useEffect)((()=>{if(G?.participant){const e=parseFloat(G.participant.total_due||0),t=parseFloat(G.participant.paypal_fee||0),a=parseFloat(G.participant.total_paid||0),s=G.participant.payment_method_name?e+t-a:e-a;me("amount",s.toFixed(2))}}),[G,me]);(0,o.useEffect)((()=>{T((e=>!e))}),[X]);const fe=()=>{const e=(()=>{if(!G?.participant)return 0;return parseFloat(G.participant.total_due)-parseFloat(G.participant.total_paid)})();if(e>0){let t=`Marc, you are about to confirm ${`${G?.participant?.first_name} ${G?.participant?.last_name}`} <strong>${be?"ONLINE":"ONSITE"}</strong> registration.`;t+=` <div class="text-danger fw-bolder border rounded-2 p-2 m-3 border-danger">${G?.participant?.first_name} still needs to pay ${e.toFixed(2)}€</div>`,t+="<p>Are you sure you want to continue?</p>",q(t),O(!0)}else R(!0)},je=()=>{he({amount:"",paymentMethodId:"",paymentDate:(new Date).toISOString().split("T")[0],adminNote:""}),E(null)},be="1"===G?.participant?.is_online,ye=[{url:"/admin/participants/"+(be?"online":"onsite"),name:be?"Online Participants":"Onsite Participants"},{url:`/admin/participants/${be?"online":"onsite"}/payment/${a}`,name:`${G?.participant?.first_name||"Participant"} ${G?.participant?.last_name||""}'s Payments`}],Ne=`\n    Dear ${G?.participant?.first_name} ${G?.participant?.last_name},<br><br>\n    Your participation in the IMC ${u.p.year} has now been confirmed.<br><br>\n    Should your plans change, please contact us immediately: https://imc${u.p.year}.imo.net/contact<br> \n    Notice that in such a case, the cancellation policy of the Disclaimer and Service Agreement applies: https://imc${u.p.year}.imo.net/disclaimer<br><br>\n    ${v}\n    Thank you!<br>\n    We look forward to meeting you at ${u.p.location}.<br><br>\n    The IMC ${u.p.year} Team.\n  `,ge=async()=>{if(r){V(!0);try{if(!(await(0,g.Z)({subject:`IMC ${u.p.year} Confirmation`,message:Ne,to:G.participant.email,toName:"IMC Confirmed Participant",fromName:"IMC 2025",replyTo:"no-reply@imc2025.imo.net",replyName:"no-reply",bcc:"vperlerin@gmail.com".split(",").map((e=>({email:e,name:"BCC Recipient"})))})).success)return void k("Impossible to send the an email for the moment. Please, try again later");await ne(a,{confirmation_sent:!0,confirmation_date:!0}),O(!1),R(!1),T((e=>!e))}catch(e){k("Failed to confirm the participant. Pleaase, try again later.")}finally{V(!1)}}else w(!0)},_e="0"!==G?.participant.confirmation_sent&&0!==G?.participant.confirmation_sent,we=!!G?.participant.confirmation_date,ve=(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)("td",{children:[!_e&&!we&&(0,_.jsx)("div",{className:"d-flex gap-2 justify-content-end",children:(0,_.jsx)("button",{className:"btn btn-outline-success fw-bolder",onClick:fe,children:"CONFIRM"})}),_e&&!we&&(0,_.jsx)("div",{className:"d-flex gap-2 justify-content-end",children:(0,_.jsxs)("button",{className:"btn btn-outline-success fw-bolder",onClick:fe,children:["SEND ",(0,_.jsx)(s.lSi,{})]})})]})});return(0,_.jsxs)(c.A,{breadcrumb:ye,isMaxWidth:!0,children:[ue&&(0,_.jsx)(d.A,{}),xe&&(0,_.jsx)("div",{className:"alert alert-danger fw-bolder",children:xe}),A&&(0,_.jsx)("div",{className:"alert alert-success fw-bolder",children:A}),!ue&&(0,_.jsxs)(_.Fragment,{children:[!J&&(0,_.jsx)(n.A,{participants:[G?.participant],customActions:ve}),(0,_.jsxs)("div",{className:"d-flex flex-column flex-md-row gap-3 align-items-strecht",children:[(0,_.jsxs)("div",{className:"border p-3 rounded-2 flex-grow-1",children:[(0,_.jsx)("h4",{className:"mb-3",children:M?"Edit Payment":"Add a New Payment"}),(0,_.jsxs)("form",{onSubmit:oe((async e=>{I(null),F(null);const t={participant_id:a,amount:parseFloat(e.amount),payment_method_id:e.paymentMethodId,payment_date:e.paymentDate,admin_note:e.adminNote||null},s=await se(t);s.success?(I("Payment added successfully!"),je(),await ae()):F(s.message)})),children:[(0,_.jsxs)("div",{className:"mb-3 row",children:[(0,_.jsx)("label",{className:"col-sm-3 col-form-label fw-bold",children:"Amount (€)"}),(0,_.jsxs)("div",{className:"col-sm-5",children:[(0,_.jsx)("input",{type:"number",className:l()("form-control",m.A.md50),...ce("amount",{required:!0,min:0}),step:"0.01"}),le.amount&&(0,_.jsx)("span",{className:"text-danger",children:"Amount is required and must be positive."})]})]}),(0,_.jsxs)("div",{className:"mb-3 row",children:[(0,_.jsx)("label",{className:"col-sm-3 col-form-label fw-bold",children:"Payment Method"}),(0,_.jsxs)("div",{className:"col-sm-6",children:[(0,_.jsxs)("select",{className:"form-select",...ce("paymentMethodId",{required:!0}),children:[(0,_.jsx)("option",{value:"",children:"Select a payment method"}),H.map((e=>(0,_.jsx)("option",{value:e.id,children:e.method},e.id)))]}),le.paymentMethodId&&(0,_.jsx)("span",{className:"text-danger",children:"Payment method is required."})]})]}),(0,_.jsxs)("div",{className:"mb-3 row",children:[(0,_.jsx)("label",{className:"col-sm-3 col-form-label fw-bold",children:"Payment Date"}),(0,_.jsx)("div",{className:"col-sm-6",children:(0,_.jsx)("input",{type:"date",className:"form-control",...ce("paymentDate",{required:!0})})})]}),(0,_.jsxs)("div",{className:"mb-3 row",children:[(0,_.jsx)("label",{className:"col-sm-3 col-form-label fw-bold",children:"Admin Note (Optional)"}),(0,_.jsx)("div",{className:"col-sm-9",children:(0,_.jsx)("textarea",{className:"form-control",...ce("adminNote"),rows:"2"})})]}),(0,_.jsx)("div",{className:"text-end",children:(0,_.jsx)("button",{type:"submit",className:"btn btn-outline-primary fw-bolder",disabled:de,children:de?"Processing...":M?"Update Payment":"Add Payment"})})]})]}),(0,_.jsx)(p.A,{isOnline:be,conferenceData:u.p,participantData:G,workshops:z,registrationTypes:U,paymentMethods:H})]}),X&&X.length>0&&!(1===X.length&&0===parseFloat(X[0].amount))&&(0,_.jsxs)("div",{className:"border p-3 rounded-2 mt-3",children:[(0,_.jsx)("h4",{className:"mb-3",children:"Payments in record"}),(0,_.jsxs)("table",{className:"table table-bordered table-striped",children:[(0,_.jsx)("thead",{children:(0,_.jsxs)("tr",{children:[(0,_.jsx)("th",{children:"Date"}),(0,_.jsx)("th",{children:"Amount (€)"}),(0,_.jsx)("th",{children:"Method"}),(0,_.jsx)("th",{children:"Admin Note"})]})}),(0,_.jsx)("tbody",{children:X.map((e=>0!==parseFloat(e.amount)?(0,_.jsxs)("tr",{children:[(0,_.jsx)("td",{children:e.payment_date.split(" ")[0]||"N/A"}),(0,_.jsx)("td",{children:parseFloat(e.amount).toFixed(2)}),(0,_.jsx)("td",{children:e.payment_method}),(0,_.jsx)("td",{children:e.admin_note||"No note"})]},e.id):null))})]})]}),($||L)&&(0,_.jsx)("div",{className:"modal-backdrop fade show"}),$&&(0,_.jsx)("div",{className:"modal modal-lg show d-block",children:(0,_.jsx)("div",{className:"modal-dialog",children:(0,_.jsxs)("div",{className:"modal-content",children:[(0,_.jsxs)("div",{className:"modal-header",children:[(0,_.jsx)("h5",{className:"modal-title",children:"CONFIRMATION"}),(0,_.jsx)("button",{type:"button",className:"btn-close",onClick:()=>O(!1)})]}),(0,_.jsx)("div",{className:"modal-body",children:(0,_.jsx)("div",{dangerouslySetInnerHTML:{__html:W}})}),(0,_.jsxs)("div",{className:"modal-footer",children:[(0,_.jsx)("button",{className:"btn btn-outline-danger fw-bolder",onClick:()=>O(!1),children:"Cancel"}),(0,_.jsx)("button",{className:"btn btn-outline-success fw-bolder",onClick:()=>{O(!1),R(!0)},children:"Yes"})]})]})})}),L&&(0,_.jsx)("div",{className:"modal modal-lg show d-block",children:(0,_.jsx)("div",{className:"modal-dialog",children:(0,_.jsxs)("div",{className:"modal-content",children:[(0,_.jsxs)("div",{className:"modal-header",children:[(0,_.jsx)("h5",{className:"modal-title",children:"CONFIRMATION"}),(0,_.jsx)("button",{type:"button",className:"btn-close",onClick:()=>R(!1)})]}),(0,_.jsxs)("div",{className:"modal-body",children:[re&&(0,_.jsx)("div",{className:"text-danger fw-bolder",children:re}),P&&!re&&(0,_.jsx)("div",{className:"text-danger fw-bolder",children:P}),ie||B&&(0,_.jsx)(d.A,{}),!r&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("p",{className:"fw-bolder",children:"Marc, make your choice: "}),(0,_.jsxs)("div",{className:"d-flex w-100 gap-3 mt-3",children:[!_e&&!we&&(0,_.jsxs)("button",{className:"fw-bolder btn btn-outline-success",onClick:ge,disabled:ie,children:["CONFIRM & SEND ",(0,_.jsx)(s.lSi,{})]}),_e&&!we||!_e&&!we&&(0,_.jsx)("button",{className:"fw-bolder btn btn-outline-success",onClick:async()=>{V(!0);try{await ne(a,{confirmation_sent:!0}),O(!1),R(!1),T((e=>!e))}catch(e){k("Failed to confirm the participant. Pleaase, try again later.")}finally{V(!1)}},disabled:ie,children:"CONFIRM"}),_e&&!we&&(0,_.jsxs)("button",{className:"fw-bolder btn btn-outline-success",onClick:async()=>{if(r){V(!0);try{if(!(await(0,g.Z)({subject:`IMC ${u.p.year} Confirmation`,message:Ne,to:G.participant.email,toName:"IMC Confirmed Participant",fromName:"IMC 2025",replyTo:"no-reply@imc2025.imo.net",replyName:"no-reply",bcc:"vperlerin@gmail.com".split(",").map((e=>({email:e,name:"BCC Recipient"})))})).success)return void k("Impossible to send the an email for the moment. Please, try again later");await ne(a,{confirmation_date:!0}),O(!1),R(!1),T((e=>!e))}catch(e){k("Failed to confirm the participant. Pleaase, try again later.")}finally{V(!1)}}else w(!0)},disabled:ie,children:["SEND ",(0,_.jsx)(s.lSi,{})]}),re&&(0,_.jsx)("div",{className:"text-danger",children:re})]})]}),r&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("div",{children:(0,_.jsxs)("div",{className:"my-3 d-flex gap-3 align-items-strecht",children:[(0,_.jsxs)("div",{className:i.col,children:["Below is the email that is going to be sent:",(0,_.jsx)("div",{className:"bg-white text-black p-3 rounded mt-2",dangerouslySetInnerHTML:{__html:Ne}})]}),(0,_.jsxs)("div",{className:i.col,children:["Use the input below if you want to add text",(0,_.jsx)("textarea",{className:`form-control mt-2 ${i.textarea}`,rows:"3",value:v.replace(/<br>$/,"").replace(/<br>/g,"\n"),onChange:e=>C(e.target.value.replace(/\n/g,"<br>")+"<br>"),placeholder:"Add extra message here..."})]})]})}),(0,_.jsxs)("div",{className:"d-flex gap-3 justify-content-end",children:[(0,_.jsx)("button",{className:"btn btn-outline-neutral fw-bolder",onClick:()=>w(!1),children:"Cancel"}),(0,_.jsxs)("button",{className:"btn btn-outline-success fw-bolder",onClick:ge,disabled:ie,children:["SEND NOW ",(0,_.jsx)(s.lSi,{})]})]})]})]})]})})})]})]})}},4493:(e,t,a)=>{a.d(t,{Q:()=>r});var s=a(3318),n=a(6540),i=a(1083);const r=()=>{const[e,t]=(0,n.useState)([]),[a,r]=(0,n.useState)([]),[l,c]=(0,n.useState)([]),[o,d]=(0,n.useState)([]),[m,p]=(0,n.useState)(!0),[h,u]=(0,n.useState)(null);return(0,n.useEffect)((()=>{(async()=>{try{const e=await(0,s.L)((()=>i.A.get("https://imc2025.imo.net/php/get_specific_data.php")));if(!e.data.success)throw new Error(e.data.message||"Failed to fetch specific IMC data. Please, refresh the page.");t(e.data.data.workshops||[]),r(e.data.data.payment_methods||[]),c(e.data.data.registration_types||[]),d(e.data.data.sessions||[])}catch(e){u(e.message||"Failed to fetch specific IMC data. Please, refresh the page.")}finally{p(!1)}})()}),[]),{workshops:e,paymentMethods:a,registrationTypes:l,sessions:o,loading:m,error:h}}},4972:(e,t,a)=>{a.d(t,{D:()=>r});var s=a(3318),n=a(6540),i=a(1083);const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const[l,c]=(0,n.useState)(null),[o,d]=(0,n.useState)(!1),[m,p]=(0,n.useState)(null),h=(0,n.useCallback)((async()=>{if(e){d(!0),p(null);try{const a=t?"get_online_participant":"get_onsite_participant",n=await(0,s.L)((()=>i.A.get(`https://imc2025.imo.net/php/api/${a}.php`,{params:{id:e,admin_notes:r}})));if(!n.data.success||!n.data.data)throw new Error(n.data.message||"Participant not found.");c(n.data.data)}catch(e){p(e.message||"Failed to fetch participant data.")}finally{d(!1)}}}),[e,t,r]);return(0,n.useEffect)((()=>{h()}),[h,a]),{participant:l,loading:o,error:m,setParticipant:c,refetchParticipant:h}}},8232:(e,t,a)=>{a.d(t,{A:()=>s});const s={root:"form-module__root--TEo3k","is-admin":"form-module__is-admin--CEfAJ",xSmallW:"form-module__xSmallW--P4BEz",smallW:"form-module__smallW--lV3G2",mdAuto:"form-module__mdAuto--nAWF4",md50:"form-module__md50--tAHPE",balance:"form-module__balance--IEzdN",deleteBtn:"form-module__deleteBtn--ynTR8",gdpr:"form-module__gdpr--VLq_3"}}}]);