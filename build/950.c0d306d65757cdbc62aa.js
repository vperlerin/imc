"use strict";(self.webpackChunkimc2025=self.webpackChunkimc2025||[]).push([[950],{7647:(e,t,s)=>{s.d(t,{A:()=>B});const n="index-module__pageContain--r6_E2",a="index-module__maxW--pHIfi";var i=s(6942),l=s.n(i),r=s(3464);const o="index-module__header--RVFFD",c="index-module__title--gLVc5";var d=s(4157);const m="300px",h="index-module__menuBtn--iHux0",u="index-module__menuCloseBtn--jCTip",x="index-module__menuIcon--i9Mwv",p="index-module__swipeWrap--a2OL4",b="index-module__menuOpenOverlay--caMms",j="index-module__menu--veCcg",f="index-module__active--EYt3Y",g="index-module__footer--O9Npd",v="index-module__menuItem--eqnJw",N="index-module__menuItemTitle--O6gep",_="index-module__active--Hl_ax",w="index-module__caret--U_US2",y="index-module__rotate--pnUGY",k="index-module__menuItemsHolder--aPOed";var C=s(6540),S=s(4848);const L=C.forwardRef(((e,t)=>{let{children:s,className:n,goTo:a=null,isLinkActive:i,title:r,url:o=null}=e;const[c,d]=(0,C.useState)(i),[m,h]=(0,C.useState)("0px"),u=(0,C.useRef)(null);(0,C.useEffect)((()=>{s&&h(c?`${u.current.scrollHeight}px`:"0px")}),[s,c,u]);const x=e=>(0,S.jsx)("div",{className:l()(e.className,c&&y),children:(0,S.jsx)("svg",{viewBox:"0 0 320 512",xmlns:"http://www.w3.org/2000/svg",children:(0,S.jsx)("path",{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z",fill:e.fill})})});return(0,S.jsxs)("div",{className:l()(v,"d-flex flex-column",n),ref:t,children:[(0,S.jsxs)("a",{className:l()(N,"d-flex justify-content-between w-100 align-items-center px-3",i&&_),href:o||void 0,onClick:e=>{e.preventDefault(),s?d(!c):a&&o&&a(o)},children:[(0,S.jsx)("span",{className:"d-flex align-items-center",children:(0,S.jsx)("b",{children:r})}),s&&(0,S.jsx)(x,{className:w})]}),s&&(0,S.jsx)("div",{className:k,ref:u,style:s&&{maxHeight:`${m}`},children:s})]})}));var M=s(8321),A=s(8983),P=s(1448),I=s(7767),D=s(4976);const E=[{title:"Dashboard",link:"/admin/dashboard"},{title:"Participants",link:"/admin/participants",subLinks:[{title:"Onsite",link:"/admin/participants/onsite"},{title:"Online",link:"/admin/participants/online"},{title:"Workshops",link:"/admin/participants/workshops"}]},{title:"Contributions",link:"/admin/contributions",subLinks:[{title:"Talks",link:"/admin/contributions/talks"},{title:"Posters",link:"/admin/contributions/posters"}]},{title:"Accomodations",link:"/admin/accomodations"},{title:"Export",link:"/admin/export"}];var F=s(1280),T=s(1083);const O=parseInt(m,10)||250,z=e=>{let{cd:t}=e;const[s,n]=(0,C.useState)(!1),[a,i]=(0,C.useState)(!0),r=(0,P.wA)(),o=(0,I.zy)(),c=(0,I.Zp)(),[m,v]=(0,M.useSpring)((()=>({right:-O,config:{tension:350,friction:30}})));(0,C.useEffect)((()=>(s?(i(!1),v.start({right:0}),document.body.classList.add("overflow-hidden"),document.documentElement.classList.add("overflow-hidden")):(v.start({right:-O,onRest:()=>i(!0)}),document.body.classList.remove("overflow-hidden"),document.documentElement.classList.remove("overflow-hidden")),()=>{document.body.classList.remove("overflow-hidden"),document.documentElement.classList.remove("overflow-hidden")})),[s,v]),(0,C.useEffect)((()=>{const e=()=>{n(!1)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]);const N=()=>{n((e=>!e))},_=e=>{c(e),N()};return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("button",{className:h,onClick:N,children:(0,S.jsx)(d.RAm,{className:x})}),!a&&(0,S.jsx)("div",{className:l()(b),onClick:N,onMouseDown:F._v,onTouchStart:F._v}),(0,S.jsx)(M.animated.div,{className:l()(p),style:m,children:(0,S.jsxs)("div",{className:l()(j,"d-flex flex-column h-100"),children:[(0,S.jsx)("button",{className:u,onClick:N,children:(0,S.jsx)(d.ipV,{className:x})}),(0,S.jsxs)("div",{className:"mb-3",children:[(0,S.jsxs)("div",{className:"m-3 text-center",children:[(0,S.jsxs)("h4",{className:"fw-bolder m-0",children:["IMC ",t.year]}),(0,S.jsx)("small",{className:"m-0",children:"ADMIN AREA"})]}),E.map((e=>{const t=o.pathname.startsWith(e.link)||e.subLinks&&e.subLinks.some((e=>o.pathname.startsWith(e.link)));if(!e.hideFromMenu)return(0,S.jsx)(L,{className:"py-2",isLinkActive:t,goTo:_,title:e.title,url:e.link,children:e.subLinks&&(0,S.jsx)(S.Fragment,{children:e.subLinks.map((e=>{const t=o.pathname===e.link;return(0,S.jsx)(D.N_,{"aria-label":e.title,onClick:N,to:e.link,className:l()(t&&f),title:e.title,children:e.title},e.link)}))})},e.link)}))]}),(0,S.jsx)("div",{className:l()(g,"mt-auto"),children:(0,S.jsxs)("div",{className:"d-flex flex-column justify-content-center mb-3 p-3 gap-2 px-4",children:[(0,S.jsx)("button",{"aria-label":"Public site",className:"btn btn-outline-success px-3 fw-bolder",onClick:()=>_("/"),title:"Public site",children:"Public site"}),(0,S.jsx)("button",{"aria-label":"Logout",className:"btn btn-outline-danger px-3 fw-bolder",onClick:async()=>{await T.A.get("https://imc2025.imo.net/php/auth/logout.php",{withCredentials:!0}),r(A.I2.logout()),localStorage.removeItem("session"),c("/")},title:"Logout",children:"Logout"})]})})]})})]})};var R=s(7762);const W=()=>{const e=`${R.p.name} ${R.p.year}`;return(0,S.jsxs)("div",{className:"d-flex align-items-center justify-content-between border-bottom",children:[(0,S.jsx)(z,{cd:R.p}),(0,S.jsx)("nav",{className:"p-0 flex-wrap","aria-label":"Main navigation",children:(0,S.jsx)("div",{className:l()(o,"d-flex flex-row flew-wrap px-2 mb-1 justify-content-between"),children:(0,S.jsxs)(D.N_,{"aria-label":"Admin",className:l()("d-flex align-items-center text-dark text-decoration-none gap-2",c),to:"/admin/dashboard",title:"Admin",children:[(0,S.jsx)("img",{src:r,alt:e,className:"rounded-circle border border-2 p-1"}),(0,S.jsxs)("div",{className:"d-flex flex-column",children:[(0,S.jsxs)("h1",{className:"m-0 fw-bolder",children:[R.p.name," ",R.p.year]}),(0,S.jsx)("h2",{className:"m-0 d-none d-md-block",children:"ADMIN AREA"})]})]})})})]})};var $=s(5902),q=s(1351);const H="breadcrumb-module__nav--atkeN",V=e=>{let{links:t=[]}=e;return(0,S.jsx)("nav",{"aria-label":"breadcrumb",className:H,children:(0,S.jsxs)("ol",{className:l()("breadcrumb"),children:[(0,S.jsx)("li",{className:"breadcrumb-item lh-0",children:(0,S.jsx)(D.N_,{to:"/admin/dashboard",children:(0,S.jsx)(q.M14,{className:"me-1"})})}),t.map(((e,s)=>(0,S.jsx)("li",{className:l()("breadcrumb-item",{active:s===t.length-1}),"aria-current":s===t.length-1?"page":void 0,children:s===t.length-1?e.name:(0,S.jsx)(D.N_,{to:e.url,children:e.name})},s)))]})})},B=e=>{let{breadcrumb:t=[],title:s="",rightContent:i,children:r,isMaxWidth:o=!1}=e;const c=s?`${s} | ${R.p.name_display} ${R.p.year}`:`${R.p.name_display} ${R.p.year}`;return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)($.mg,{children:[(0,S.jsx)("title",{children:c}),(0,S.jsx)("meta",{name:"robots",content:"noindex"})]}),(0,S.jsxs)("div",{className:l()(n,"position-relative"),children:[(0,S.jsx)(W,{}),(0,S.jsxs)("div",{className:"d-flex flex-row",children:[(0,S.jsx)(z,{cd:R.p}),(0,S.jsxs)("div",{className:"mx-md-4 my-3 h-100 flex-grow-1 d-flex flex-column px-3 px-md-0",children:[0!==t.length&&(0,S.jsx)(V,{links:t}),(0,S.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[s&&(0,S.jsx)("h2",{children:s}),i&&(0,S.jsx)("div",{children:i})]}),(0,S.jsx)("div",{className:l()(o&&a),children:r})]})]})]})]})}},950:(e,t,s)=>{s.r(t),s.d(t,{default:()=>u});var n=s(408),a=s(7647),i=s(6942),l=s.n(i);const r={};var o=s(6645),c=s(6540),d=s(3318),m=s(1083);var h=s(4848);const u=()=>{const[e,t]=(0,c.useState)([]),[s,i]=(0,c.useState)(""),[u,x]=(0,c.useState)("last_name"),[p,b]=(0,c.useState)(null),[j,f]=(0,c.useState)(!1),[g,v]=(0,c.useState)(!1),[N,_]=(0,c.useState)(""),[w,y]=(0,c.useState)(""),{participants:k,loading:C,error:S,setParticipants:L}=(()=>{const[e,t]=(0,c.useState)([]),[s,n]=(0,c.useState)(!0),[a,i]=(0,c.useState)(null);return(0,c.useEffect)((()=>{(async()=>{try{const e=await(0,d.L)((()=>m.A.get("https://imc2025.imo.net/php/admin/api/onsite_participants.php")));if(!e.data.success||!Array.isArray(e.data.data))throw new Error(e.data.message||"Unexpected API response format.");t(e.data.data)}catch(e){i(e.message||"Failed to fetch participants. Please refresh the page.")}finally{n(!1)}})()}),[]),{participants:e,loading:s,error:a,setParticipants:t}})(),{deleteParticipant:M,errorDelete:A,isDeleting:P}=((e,t)=>{const[s,n]=(0,c.useState)(null),[a,i]=(0,c.useState)(!1);return{deleteParticipant:async(s,a)=>{if(!s)return null;i(!0),n(null);try{const i=await m.A.post("https://imc2025.imo.net/php/admin/api/delete_participant.php",{id:s.id,delete_type:a});return i.data.success?(e((e=>e.filter((e=>e.id!==s.id)))),t((e=>e.filter((e=>e.id!==s.id))))):n(i.data.message||"Failed to delete participant."),i}catch(e){const t=e.response?.data?.message||"An unexpected error occurred.";return n(t),{data:{success:!1,message:t}}}finally{i(!1)}},errorDelete:s,isDeleting:a}})(L,t);(0,c.useEffect)((()=>{if(s){const e=s.toLowerCase();t(k.filter((t=>(t[u]?String(t[u]).toLowerCase():"").includes(e))))}else t(k)}),[s,u,k]);const I=k.length,D=k.filter((e=>!0===e.confirmation_sent)).length,E=async e=>{if(p)try{const t=await M(p,e);t?.data?.success?_(t.data.message||"Participant deleted successfully!"):y(t?.data?.message||"Impossible to delete the participant for now, please try again later.")}catch(e){y("An unexpected error occurred while deleting the participant.")}};return(0,h.jsxs)(a.A,{breadcrumb:[{url:"/admin/participants/onsite",name:"Onsite Participants"}],isMaxWidth:!0,title:"Onsite Participants",rightContent:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("strong",{children:"Confirmed:"})," ",D," / ",I]}),children:[w&&(0,h.jsx)("div",{className:"alert alert-danger fw-bolder",children:w}),N&&(0,h.jsx)("div",{className:"alert alert-success fw-bolder",children:N}),S&&(0,h.jsx)("p",{className:"alert alert-danger fw-bolder",children:S}),C||P?(0,h.jsx)(o.A,{}):(0,h.jsxs)(h.Fragment,{children:[A&&(0,h.jsx)("p",{className:"alert alert-danger",children:A}),(0,h.jsxs)("div",{className:"d-flex gap-2 mb-3",children:[(0,h.jsxs)("select",{className:"form-select w-auto",value:u,onChange:e=>x(e.target.value),children:[(0,h.jsx)("option",{value:"last_name",children:"Search by Last Name"}),(0,h.jsx)("option",{value:"email",children:"Search by Email"})]}),(0,h.jsxs)("div",{className:"position-relative w-auto",children:[(0,h.jsx)("input",{type:"text",className:"form-control pe-5",placeholder:`Enter ${u.replace("_"," ")}`,value:s,onChange:e=>i(e.target.value)}),(0,h.jsx)(n.Xj1,{className:"position-absolute top-50 end-0 translate-middle-y me-2"})]})]}),(0,h.jsx)("div",{className:"table-responsive",children:(0,h.jsxs)("table",{className:"table table-striped",children:[(0,h.jsx)("thead",{children:(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{children:"Reg. Date"}),(0,h.jsx)("th",{children:"Name"}),(0,h.jsx)("th",{children:"Total Due"}),(0,h.jsx)("th",{children:"Total Paid"}),(0,h.jsx)("th",{children:"Pay. Method"}),(0,h.jsx)("th",{children:"Confirmed"}),(0,h.jsx)("th",{})]})}),(0,h.jsx)("tbody",{children:e.length>0?e.map((e=>(0,h.jsxs)("tr",{children:[(0,h.jsx)("td",{children:e.created_at.split(" ")[0]}),(0,h.jsxs)("td",{children:[e.title," ",e.first_name," ",e.last_name]}),(0,h.jsx)("td",{children:"paypal"===e.payment_method.toLowerCase()?(0,h.jsxs)(h.Fragment,{children:[parseFloat(e.total_due)+parseFloat(e.paypal_fee),"€"]}):(0,h.jsxs)(h.Fragment,{children:[e.total_due,"€"]})}),(0,h.jsxs)("td",{children:[e.total_paid,"€"]}),(0,h.jsx)("td",{children:e.payment_method||"n/a"}),(0,h.jsx)("td",{children:"1"===e.confirmation_sent?(0,h.jsxs)(h.Fragment,{children:["✅ ",e.confirmation_date&&formatFullDate(e.confirmation_date)]}):"❌"}),(0,h.jsx)("td",{children:(0,h.jsxs)("div",{className:"d-flex gap-2 justify-content-end",children:[(0,h.jsx)("a",{href:`/admin/participants/onsite/payment/${e.id}`,className:l()(r.action,"btn btn-sm btn-outline-success fw-bolder"),children:"Payments"}),(0,h.jsx)("a",{href:`/admin/participants/onsite/${e.id}`,className:l()(r.action,"btn btn-sm btn-outline-primary fw-bolder"),children:"Edit"}),(0,h.jsx)("button",{className:l()(r.action,"btn btn-sm btn-outline-danger fw-bolder"),onClick:()=>(e=>{b(e),f(!0)})(e),children:"Cancel Registration"})]})})]},e.id))):(0,h.jsx)("tr",{children:(0,h.jsx)("td",{colSpan:"7",className:"text-center",children:"No onsite participants found."})})})]})})]}),(j||g)&&(0,h.jsx)("div",{className:"modal-backdrop fade show"}),j&&p&&(0,h.jsx)("div",{className:"modal show d-block",children:(0,h.jsx)("div",{className:"modal-dialog",children:(0,h.jsxs)("div",{className:"modal-content",children:[(0,h.jsxs)("div",{className:"modal-header",children:[(0,h.jsx)("h5",{className:"modal-title",children:"Cancel Registration"}),(0,h.jsx)("button",{type:"button",className:"btn-close",onClick:()=>f(!1)})]}),(0,h.jsxs)("div",{className:"modal-body",children:[(0,h.jsxs)("p",{children:["Are you sure you want to cancel ",(0,h.jsxs)("b",{children:[p.first_name," ",p.last_name]}),"'s registration?"]}),(0,h.jsx)("p",{children:(0,h.jsx)("strong",{children:"Choose:"})}),(0,h.jsxs)("ul",{children:[(0,h.jsxs)("li",{children:[(0,h.jsx)("strong",{className:"text-warning",children:"Soft Delete:"})," Keeps record but marks as 'cancelled' - so we can keep track of the reimbursement."]}),(0,h.jsxs)("li",{children:[(0,h.jsx)("strong",{className:"text-danger",children:"Hard Delete:"})," Permanently removes data."]})]})]}),(0,h.jsxs)("div",{className:"modal-footer",children:[(0,h.jsx)("button",{className:"btn btn-outline-secondary fw-bolder",onClick:()=>f(!1),children:"Cancel"}),(0,h.jsx)("button",{className:"btn btn-outline-warning fw-bolder",onClick:()=>E("soft"),children:"Soft Delete"}),(0,h.jsx)("button",{className:"btn btn-outline-danger fw-bolder ms-auto",onClick:()=>{f(!1),v(!0)},children:"Hard Delete"})]})]})})}),g&&(0,h.jsx)("div",{className:"modal show d-block",children:(0,h.jsx)("div",{className:"modal-dialog",children:(0,h.jsxs)("div",{className:"modal-content",children:[(0,h.jsxs)("div",{className:"modal-header",children:[(0,h.jsx)("h5",{className:"modal-title",children:"Confirm Permanent Deletion"}),(0,h.jsx)("button",{type:"button",className:"btn-close",onClick:()=>v(!1)})]}),(0,h.jsx)("div",{className:"modal-body",children:(0,h.jsxs)("p",{children:[(0,h.jsx)("strong",{children:"Are you absolutely sure?"})," This action cannot be undone."]})}),(0,h.jsxs)("div",{className:"modal-footer",children:[(0,h.jsx)("button",{className:"btn btn-outline-secondary fw-bolder",onClick:()=>v(!1),children:"No"}),(0,h.jsx)("button",{className:"btn btn-outline-danger  fw-bolder",onClick:()=>{E("hard"),v(!1)},children:"Yes, Delete"})]})]})})})]})}},7762:(e,t,s)=>{s.d(t,{p:()=>n});const n=JSON.parse('{"year":2025,"num":"44th","welcome":"Welkom!","thank_you":"Bedankt!","name":"IMC","name_display":"International Meteor Conference","dates":{"start":"2025-09-18","end":"2025-09-21"},"location":"Soest, the Netherlands","consulat":"Dutch consulate","deadlines":{"reg":"2025-07-15","paper":"2025-10-31","full_reimbursement_before":"2025-05-01","half_reimbursement_before":"2025-07-15","early_birds":"2025-05-01"},"poster_dim":"A1 size (59.4cm x 84.1cm / 23.4″ x 33.1″)","poster_print":{"desc":"Maximum size A1 (59.4cm x 84.1cm / 23.4″ x 33.1″), uploaded in PDF, deadline for sending September 1.","price":35,"size":"A1 size (59.4cm x 84.1cm / 23.4″ x 33.1″)"},"sessions":["Video meteor work","Radio meteor work","Visual meteor work","Meteor physics and dynamics","Meteor stream analyses and modelling","Meteor related software and hardware","Ongoing meteor work","Miscellaneous"],"costs":{"after_early_birds":30,"admin":"15€","online":20,"rooms":[{"price":250,"description":"Quadruple room in the IMC host","number":68,"type":"quadruple"},{"price":350,"description":"Double room in the IMC host","number":12,"type":"double"},{"price":500,"description":"Single room in the IMC host","number":8,"type":"single"},{"price":200,"description":"No accommodation","type":"no"}],"tshirts":{"models":["men","women"],"sizes":["S","M","L","XL","XXL"],"price":15},"printed_proceedings":20},"co_organizer":[{"abbr":"IMO","name":"International meteor organization","website":"https://imo.net"},{"abbr":"WGM","name":"KNVWS Meteor Section","website":"https://werkgroepmeteoren.nl/english"}],"workshops":[{"title":"Spectroscopy Workshop","date":"2025-09-18","period":"09:30 to 12:30 CEST","cost":22.5,"description":"including coffee break and lunch","email_to":{"name":"Joe Zender","email":"joe.zender@esa.int"}},{"title":"Radio Workshop","date":"2025-09-17","period":"09:30 to 17:00 CEST","cost":26.5,"cost_online":5,"description":"including coffee break and lunch","email_to":{"name":"Hervé Lamy","email":"herve.lamy@aeronomie.be"}}],"contact":[{"q":"a question about the website or a technical difficulty","email":"vperlerin@gmail.com","name":"V. Perlerin"},{"q":"a question about the conference or accommodation","email":"imc2025@imo.net","name":"IMC 2025 Team"},{"q":"a question about payment or your registration","email":"marc.gyssens@uhasselt.be","name":"IMO Treasuer"},{"q":"a question about any other topic","email":"imc2025@imo.net","name":"IMC 2025 Team"}]}')},1280:(e,t,s)=>{s.d(t,{_v:()=>n});const n=e=>{e&&e.stopPropagation()}},3318:(e,t,s)=>{s.d(t,{L:()=>n});const n=function(e){let{interval:t=100,retries:s=14}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(((a,i)=>{e().then(a).catch((l=>{setTimeout((()=>{s?n(e,{interval:1.5*t,retries:s-1}).then(a,i):i(l)}),t)}))}))}},3464:(e,t,s)=>{e.exports=s.p+"702c5653d2360537e78f.svg"}}]);