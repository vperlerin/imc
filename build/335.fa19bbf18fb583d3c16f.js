"use strict";(self.webpackChunkimc2025=self.webpackChunkimc2025||[]).push([[335],{2215:(e,s,t)=>{t.d(s,{A:()=>T});const n="index-module__pageContain--r6_E2";var i=t(6942),a=t.n(i),l=t(3464);const o="index-module__header--RVFFD",r="index-module__title--gLVc5";var d=t(4157);const c="300px",m="index-module__menuBtn--iHux0",h="index-module__menuCloseBtn--jCTip",x="index-module__menuIcon--i9Mwv",u="index-module__swipeWrap--a2OL4",p="index-module__menuOpenOverlay--caMms",b="index-module__menu--veCcg",j="index-module__active--EYt3Y",f="index-module__footer--O9Npd",g="index-module__menuItem--eqnJw",N="index-module__menuItemTitle--O6gep",v="index-module__active--Hl_ax",w="index-module__caret--U_US2",_="index-module__rotate--pnUGY",k="index-module__menuItemsHolder--aPOed";var y=t(6540),C=t(4848);const S=y.forwardRef(((e,s)=>{let{children:t,className:n,goTo:i=null,isLinkActive:l,title:o,url:r=null}=e;const[d,c]=(0,y.useState)(l),[m,h]=(0,y.useState)("0px"),x=(0,y.useRef)(null);(0,y.useEffect)((()=>{t&&h(d?`${x.current.scrollHeight}px`:"0px")}),[t,d,x]);const u=e=>(0,C.jsx)("div",{className:a()(e.className,d&&_),children:(0,C.jsx)("svg",{viewBox:"0 0 320 512",xmlns:"http://www.w3.org/2000/svg",children:(0,C.jsx)("path",{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z",fill:e.fill})})});return(0,C.jsxs)("div",{className:a()(g,"d-flex flex-column",n),ref:s,children:[(0,C.jsxs)("a",{className:a()(N,"d-flex justify-content-between w-100 align-items-center px-3",l&&v),href:r||void 0,onClick:e=>{e.preventDefault(),t?c(!d):i&&r&&i(r)},children:[(0,C.jsx)("span",{className:"d-flex align-items-center",children:(0,C.jsx)("b",{children:o})}),t&&(0,C.jsx)(u,{className:w})]}),t&&(0,C.jsx)("div",{className:k,ref:x,style:t&&{maxHeight:`${m}`},children:t})]})}));var L=t(8321),M=t(8983),A=t(1448),E=t(7767),D=t(4976);const I=[{title:"Dashboard",link:"/admin/dashboard"},{title:"Participants",link:"/admin/participants",subLinks:[{title:"Onsite",link:"/admin/participants/onsite"},{title:"Online",link:"/admin/participants/online"},{title:"Workshops",link:"/admin/participants/workshops"}]},{title:"Contributions",link:"/admin/contributions",subLinks:[{title:"Talks",link:"/admin/contributions/talks"},{title:"Posters",link:"/admin/contributions/posters"}]},{title:"Accomodations",link:"/admin/accomodations"},{title:"Export",link:"/admin/export"}];var P=t(1280);const z=parseInt(c,10)||250,O=e=>{let{cd:s}=e;const[t,n]=(0,y.useState)(!1),[i,l]=(0,y.useState)(!0),o=(0,A.wA)(),r=(0,E.zy)(),c=(0,E.Zp)(),[g,N]=(0,L.useSpring)((()=>({right:-z,config:{tension:350,friction:30}})));(0,y.useEffect)((()=>(t?(l(!1),N.start({right:0}),document.body.classList.add("overflow-hidden"),document.documentElement.classList.add("overflow-hidden")):(N.start({right:-z,onRest:()=>l(!0)}),document.body.classList.remove("overflow-hidden"),document.documentElement.classList.remove("overflow-hidden")),()=>{document.body.classList.remove("overflow-hidden"),document.documentElement.classList.remove("overflow-hidden")})),[t,N]),(0,y.useEffect)((()=>{const e=()=>{n(!1)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]);const v=()=>{n((e=>!e))},w=e=>{c(e),v()};return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("button",{className:m,onClick:v,children:(0,C.jsx)(d.RAm,{className:x})}),!i&&(0,C.jsx)("div",{className:a()(p),onClick:v,onMouseDown:P._v,onTouchStart:P._v}),(0,C.jsx)(L.animated.div,{className:a()(u),style:g,children:(0,C.jsxs)("div",{className:a()(b,"d-flex flex-column h-100"),children:[(0,C.jsx)("button",{className:h,onClick:v,children:(0,C.jsx)(d.ipV,{className:x})}),(0,C.jsxs)("div",{className:"mb-3",children:[(0,C.jsxs)("div",{className:"m-3 text-center",children:[(0,C.jsxs)("h4",{className:"fw-bolder m-0",children:["IMC ",s.year]}),(0,C.jsx)("small",{className:"m-0",children:"ADMIN AREA"})]}),I.map((e=>{const s=r.pathname.startsWith(e.link)||e.subLinks&&e.subLinks.some((e=>r.pathname.startsWith(e.link)));if(!e.hideFromMenu)return(0,C.jsx)(S,{className:"py-2",isLinkActive:s,goTo:w,title:e.title,url:e.link,children:e.subLinks&&(0,C.jsx)(C.Fragment,{children:e.subLinks.map((e=>{const s=r.pathname===e.link;return(0,C.jsx)(D.N_,{"aria-label":e.title,onClick:v,to:e.link,className:a()(s&&j),title:e.title,children:e.title},e.link)}))})},e.link)}))]}),(0,C.jsx)("div",{className:a()(f,"mt-auto"),children:(0,C.jsxs)("div",{className:"d-flex flex-column justify-content-center mb-3 p-3 gap-2 px-4",children:[(0,C.jsx)("button",{"aria-label":"Public site",className:"btn btn-outline-success px-3 fw-bolder",onClick:()=>w("/"),title:"Public site",children:"Public site"}),(0,C.jsx)("button",{"aria-label":"Logout",className:"btn btn-outline-danger px-3 fw-bolder",onClick:()=>{o(M.I2.logout()),w("/")},title:"Logout",children:"Logout"})]})})]})})]})};var R=t(7762);const $=()=>{const e=`${R.p.name} ${R.p.year}`;return(0,C.jsxs)("div",{className:"d-flex align-items-center justify-content-between border-bottom",children:[(0,C.jsx)(O,{cd:R.p}),(0,C.jsx)("nav",{className:"p-0 flex-wrap","aria-label":"Main navigation",children:(0,C.jsx)("div",{className:a()(o,"d-flex flex-row flew-wrap px-2 mb-1 justify-content-between"),children:(0,C.jsxs)(D.N_,{"aria-label":"Admin",className:a()("d-flex align-items-center text-dark text-decoration-none gap-2",r),to:"/admin/dashboard",title:"Admin",children:[(0,C.jsx)("img",{src:l,alt:e,className:"rounded-circle border border-2 p-1"}),(0,C.jsxs)("div",{className:"d-flex flex-column",children:[(0,C.jsxs)("h1",{className:"m-0 fw-bolder",children:[R.p.name," ",R.p.year]}),(0,C.jsx)("h2",{className:"m-0 d-none d-md-block",children:"ADMIN AREA"})]})]})})})]})};var F=t(5902);const T=e=>{let{title:s="",rightContent:t,children:i}=e;const l=s?`${s} | ${R.p.name_display} ${R.p.year}`:`${R.p.name_display} ${R.p.year}`;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(F.mg,{children:[(0,C.jsx)("title",{children:l}),(0,C.jsx)("meta",{name:"robots",content:"noindex"})]}),(0,C.jsxs)("div",{className:a()(n,"position-relative"),children:[(0,C.jsx)($,{}),(0,C.jsxs)("div",{className:"d-flex flex-row",children:[(0,C.jsx)(O,{cd:R.p}),(0,C.jsxs)("div",{className:"mx-md-4 my-3 h-100 flex-grow-1 d-flex flex-column px-3 px-md-0",children:[(0,C.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[s&&(0,C.jsx)("h2",{children:s}),t&&(0,C.jsx)("div",{children:t})]}),i]})]})]})]})}},2335:(e,s,t)=>{t.r(s),t.d(s,{default:()=>h});var n=t(408),i=t(2215),a=t(6942),l=t.n(a);const o={};var r=t(6645),d=t(6540),c=t(1083),m=t(4848);const h=()=>{const[e,s]=(0,d.useState)([]),[t,a]=(0,d.useState)([]),[h,x]=(0,d.useState)(!0),[u,p]=(0,d.useState)(null),[b,j]=(0,d.useState)(null),[f,g]=(0,d.useState)(""),[N,v]=(0,d.useState)("last_name"),[w,_]=(0,d.useState)(null),[k,y]=(0,d.useState)(!1),[C,S]=(0,d.useState)(!1);(0,d.useEffect)((()=>{(async()=>{try{const e=await c.A.get("https://imc2025.imo.net/php/admin/onsite_participants.php");if(!e.data.success)throw new Error(e.data.message||"Failed to fetch participants. Please, refresh the page.");s(e.data.data)}catch(e){p(e.message)}finally{x(!1)}})()}),[]),(0,d.useEffect)((()=>{if(f){const s=f.toLowerCase();a(e.filter((e=>(e[N]?String(e[N]).toLowerCase():"").includes(s))))}else a(e)}),[f,N,e]);const L=e.length,M=e.filter((e=>!0===e.confirmation_sent)).length,A=async n=>{if(w)try{const i=await c.A.post("https://imc2025.imo.net/php/admin/delete_participant.php",{id:w.id,delete_type:n});if(!i.data.success)throw new Error(i.data.message||"Failed to delete participant.");s(e.filter((e=>e.id!==w.id))),a(t.filter((e=>e.id!==w.id)))}catch(e){j(e.message)}finally{S(!1),y(!1),_(null)}};return(0,m.jsxs)(i.A,{title:"Onsite Participants",rightContent:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("strong",{children:"Confirmed:"})," ",M," / ",L]}),children:[h?(0,m.jsx)(r.A,{}):u?(0,m.jsx)("p",{className:"alert alert-danger",children:u}):(0,m.jsxs)(m.Fragment,{children:[b&&(0,m.jsx)("p",{className:"alert alert-danger",children:b}),(0,m.jsxs)("div",{className:"d-flex gap-2 mb-3",children:[(0,m.jsxs)("select",{className:"form-select w-auto",value:N,onChange:e=>v(e.target.value),children:[(0,m.jsx)("option",{value:"last_name",children:"Search by Last Name"}),(0,m.jsx)("option",{value:"email",children:"Search by Email"})]}),(0,m.jsxs)("div",{className:"position-relative w-auto",children:[(0,m.jsx)("input",{type:"text",className:"form-control pe-5",placeholder:`Enter ${N.replace("_"," ")}`,value:f,onChange:e=>g(e.target.value)}),(0,m.jsx)(n.Xj1,{className:"position-absolute top-50 end-0 translate-middle-y me-2"})]})]}),(0,m.jsxs)("table",{className:"table table-striped",children:[(0,m.jsx)("thead",{children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{children:"Reg. Date"}),(0,m.jsx)("th",{children:"Name"}),(0,m.jsx)("th",{children:"Total Due"}),(0,m.jsx)("th",{children:"Payment Method"}),(0,m.jsx)("th",{children:"Confirmed"}),(0,m.jsx)("th",{})]})}),(0,m.jsx)("tbody",{children:t.length>0?t.map((e=>(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{children:e.created_at.split(" ")[0]}),(0,m.jsxs)("td",{children:[e.title," ",e.first_name," ",e.last_name]}),(0,m.jsxs)("td",{children:[e.total_due," €"]}),(0,m.jsx)("td",{children:e.payment_method||"n/a"}),(0,m.jsx)("td",{children:!0===e.confirmation_sent?"✅":"❌"}),(0,m.jsx)("td",{children:(0,m.jsxs)("div",{className:"d-flex gap-2 justify-content-end",children:[(0,m.jsx)("a",{href:`/admin/participants/onsite/${e.id}/confirm`,className:l()(o.action,"btn btn-sm btn-outline-success fw-bolder"),children:"Confirm"}),(0,m.jsx)("a",{href:`/admin/participants/onsite/${e.id}`,className:l()(o.action,"btn btn-sm btn-outline-primary fw-bolder"),children:"Edit"}),(0,m.jsx)("button",{className:l()(o.action,"btn btn-sm btn-outline-danger fw-bolder"),onClick:()=>(e=>{_(e),y(!0)})(e),children:"Cancel Registration"})]})})]},e.id))):(0,m.jsx)("tr",{children:(0,m.jsx)("td",{colSpan:"6",className:"text-center",children:"No onsite participants found."})})})]})]}),(k||C)&&(0,m.jsx)("div",{className:"modal-backdrop fade show"}),k&&w&&(0,m.jsx)("div",{className:"modal show d-block",children:(0,m.jsx)("div",{className:"modal-dialog",children:(0,m.jsxs)("div",{className:"modal-content",children:[(0,m.jsxs)("div",{className:"modal-header",children:[(0,m.jsx)("h5",{className:"modal-title",children:"Cancel Registration"}),(0,m.jsx)("button",{type:"button",className:"btn-close",onClick:()=>y(!1)})]}),(0,m.jsxs)("div",{className:"modal-body",children:[(0,m.jsxs)("p",{children:["Are you sure you want to cancel ",(0,m.jsxs)("b",{children:[w.first_name," ",w.last_name]}),"'s registration?"]}),(0,m.jsx)("p",{children:(0,m.jsx)("strong",{children:"Choose:"})}),(0,m.jsxs)("ul",{children:[(0,m.jsxs)("li",{children:[(0,m.jsx)("strong",{className:"text-warning",children:"Soft Delete:"})," Keeps record but marks as 'cancelled' - so we can keep track of the reimbursement."]}),(0,m.jsxs)("li",{children:[(0,m.jsx)("strong",{className:"text-danger",children:"Hard Delete:"})," Permanently removes data."]})]})]}),(0,m.jsxs)("div",{className:"modal-footer",children:[(0,m.jsx)("button",{className:"btn btn-outline-secondary fw-bolder",onClick:()=>y(!1),children:"Cancel"}),(0,m.jsx)("button",{className:"btn btn-outline-warning fw-bolder",onClick:()=>A("soft"),children:"Soft Delete"}),(0,m.jsx)("button",{className:"btn btn-outline-danger fw-bolder ms-auto",onClick:()=>{y(!1),S(!0)},children:"Hard Delete"})]})]})})}),C&&(0,m.jsx)("div",{className:"modal show d-block",children:(0,m.jsx)("div",{className:"modal-dialog",children:(0,m.jsxs)("div",{className:"modal-content",children:[(0,m.jsxs)("div",{className:"modal-header",children:[(0,m.jsx)("h5",{className:"modal-title",children:"Confirm Permanent Deletion"}),(0,m.jsx)("button",{type:"button",className:"btn-close",onClick:()=>S(!1)})]}),(0,m.jsx)("div",{className:"modal-body",children:(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"Are you absolutely sure?"})," This action cannot be undone."]})}),(0,m.jsxs)("div",{className:"modal-footer",children:[(0,m.jsx)("button",{className:"btn btn-outline-secondary fw-bolder",onClick:()=>S(!1),children:"No"}),(0,m.jsx)("button",{className:"btn btn-outline-danger  fw-bolder",onClick:()=>A("hard"),children:"Yes, Delete"})]})]})})})]})}},7762:(e,s,t)=>{t.d(s,{p:()=>n});const n=JSON.parse('{"year":2025,"num":"44th","welcome":"Welkom!","name":"IMC","name_display":"International Meteor Conference","dates":{"start":"2025-09-18","end":"2025-09-21"},"location":"Soest, the Netherlands","consulat":"Dutch consulate","deadlines":{"reg":"2025-07-15","paper":"2025-10-31","full_reimbursement_before":"2025-05-01","half_reimbursement_before":"2025-07-15","early_birds":"2025-05-01"},"poster_dim":"A1 size (59.4cm x 84.1cm / 23.4″ x 33.1″)","poster_print":{"desc":"Maximum size A1 (59.4cm x 84.1cm / 23.4″ x 33.1″), uploaded in PDF, deadline for sending September 1.","price":35,"size":"A1 size (59.4cm x 84.1cm / 23.4″ x 33.1″)"},"sessions":["Video meteor work","Radio meteor work","Visual meteor work","Meteor physics and dynamics","Meteor stream analyses and modelling","Meteor related software and hardware","Ongoing meteor work","Miscellaneous"],"costs":{"after_early_birds":30,"admin":"15€","online":20,"rooms":[{"price":250,"description":"Quadruple room in the IMC host","number":68,"type":"quadruple"},{"price":350,"description":"Double room in the IMC host","number":12,"type":"double"},{"price":500,"description":"Single room in the IMC host","number":8,"type":"single"},{"price":200,"description":"No accommodation","type":"no"}],"tshirts":{"models":["men","women"],"sizes":["S","M","L","XL","XXL"],"price":15},"printed_proceedings":20},"co_organizer":[{"abbr":"IMO","name":"International meteor organization","website":"https://imo.net"},{"abbr":"WGM","name":"KNVWS Meteor Section","website":"https://werkgroepmeteoren.nl/english"}],"workshops":[{"title":"Spectroscopy Workshop","date":"2025-09-18","period":"09:30 to 12:30 CEST","cost":22.5,"description":"including coffee break and lunch","email_to":{"name":"Joe Zender","email":"joe.zender@esa.int"}},{"title":"Radio Workshop","date":"2025-09-17","period":"09:30 to 17:00 CEST","cost":26.5,"cost_online":5,"description":"including coffee break and lunch","email_to":{"name":"Hervé Lamy","email":"herve.lamy@aeronomie.be"}}]}')},1280:(e,s,t)=>{t.d(s,{_v:()=>n});const n=e=>{e&&e.stopPropagation()}},3464:(e,s,t)=>{e.exports=t.p+"702c5653d2360537e78f.svg"}}]);