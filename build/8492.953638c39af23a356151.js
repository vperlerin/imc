"use strict";(self.webpackChunkimc2025=self.webpackChunkimc2025||[]).push([[8492],{7647:(e,t,a)=>{a.d(t,{A:()=>Y});const n="index-module__pageContain--r6_E2",s="index-module__maxW--pHIfi";var i=a(6942),r=a.n(i),o=a(3464);const l="index-module__header--RVFFD",c="index-module__title--gLVc5";var d=a(4157);const m="300px",u="index-module__menuBtn--iHux0",p="index-module__menuCloseBtn--jCTip",h="index-module__menuIcon--i9Mwv",x="index-module__swipeWrap--a2OL4",f="index-module__menuOpenOverlay--caMms",g="index-module__menu--veCcg",b="index-module__active--EYt3Y",v="index-module__footer--O9Npd",w="index-module__menuItem--eqnJw",y="index-module__menuItemTitle--O6gep",_="index-module__active--Hl_ax",j="index-module__caret--U_US2",k="index-module__rotate--pnUGY",N="index-module__menuItemsHolder--aPOed";var S=a(6540),A=a(4848);const L=S.forwardRef(((e,t)=>{let{children:a,className:n,goTo:s=null,isLinkActive:i,title:o,url:l=null}=e;const[c,d]=(0,S.useState)(i),[m,u]=(0,S.useState)("0px"),p=(0,S.useRef)(null);(0,S.useEffect)((()=>{a&&u(c?`${p.current.scrollHeight}px`:"0px")}),[a,c,p]);const h=e=>(0,A.jsx)("div",{className:r()(e.className,c&&k),children:(0,A.jsx)("svg",{viewBox:"0 0 320 512",xmlns:"http://www.w3.org/2000/svg",children:(0,A.jsx)("path",{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z",fill:e.fill})})});return(0,A.jsxs)("div",{className:r()(w,"d-flex flex-column",n),ref:t,children:[(0,A.jsxs)("a",{className:r()(y,"d-flex justify-content-between w-100 align-items-center px-3",i&&_),href:l||void 0,onClick:e=>{e.preventDefault(),a?d(!c):s&&l&&s(l)},children:[(0,A.jsx)("span",{className:"d-flex align-items-center",children:(0,A.jsx)("b",{children:o})}),a&&(0,A.jsx)(h,{className:j})]}),a&&(0,A.jsx)("div",{className:N,ref:p,style:a&&{maxHeight:`${m}`},children:a})]})}));var C=a(8321),E=a(8983),M=a(1448),$=a(7767),D=a(4976);const I=[{title:"Dashboard",link:"/admin/dashboard"},{title:"Participants",link:"/admin/participants",subLinks:[{title:"Onsite",link:"/admin/participants/onsite"},{title:"Online",link:"/admin/participants/online"},{title:"Workshops",link:"/admin/participants/workshops"}]},{title:"Contributions",link:"/admin/contributions",subLinks:[{title:"Talks",link:"/admin/contributions/talks"},{title:"Posters",link:"/admin/contributions/posters"}]},{title:"Accomodations",link:"/admin/accomodations"},{title:"Export",link:"/admin/export"}];var V=a(1280),O=a(1083);const T=parseInt(m,10)||250,z=e=>{let{cd:t}=e;const[a,n]=(0,S.useState)(!1),[s,i]=(0,S.useState)(!0),o=(0,M.wA)(),l=(0,$.zy)(),c=(0,$.Zp)(),[m,w]=(0,C.useSpring)((()=>({right:-T,config:{tension:350,friction:30}})));(0,S.useEffect)((()=>(a?(i(!1),w.start({right:0}),document.body.classList.add("overflow-hidden"),document.documentElement.classList.add("overflow-hidden")):(w.start({right:-T,onRest:()=>i(!0)}),document.body.classList.remove("overflow-hidden"),document.documentElement.classList.remove("overflow-hidden")),()=>{document.body.classList.remove("overflow-hidden"),document.documentElement.classList.remove("overflow-hidden")})),[a,w]),(0,S.useEffect)((()=>{const e=()=>{n(!1)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]);const y=()=>{n((e=>!e))},_=e=>{c(e),y()};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("button",{className:u,onClick:y,children:(0,A.jsx)(d.RAm,{className:h})}),!s&&(0,A.jsx)("div",{className:r()(f),onClick:y,onMouseDown:V._v,onTouchStart:V._v}),(0,A.jsx)(C.animated.div,{className:r()(x),style:m,children:(0,A.jsxs)("div",{className:r()(g,"d-flex flex-column h-100"),children:[(0,A.jsx)("button",{className:p,onClick:y,children:(0,A.jsx)(d.ipV,{className:h})}),(0,A.jsxs)("div",{className:"mb-3",children:[(0,A.jsxs)("div",{className:"m-3 text-center",children:[(0,A.jsxs)("h4",{className:"fw-bolder m-0",children:["IMC ",t.year]}),(0,A.jsx)("small",{className:"m-0",children:"ADMIN AREA"})]}),I.map((e=>{const t=l.pathname.startsWith(e.link)||e.subLinks&&e.subLinks.some((e=>l.pathname.startsWith(e.link)));if(!e.hideFromMenu)return(0,A.jsx)(L,{className:"py-2",isLinkActive:t,goTo:_,title:e.title,url:e.link,children:e.subLinks&&(0,A.jsx)(A.Fragment,{children:e.subLinks.map((e=>{const t=l.pathname===e.link;return(0,A.jsx)(D.N_,{"aria-label":e.title,onClick:y,to:e.link,className:r()(t&&b),title:e.title,children:e.title},e.link)}))})},e.link)}))]}),(0,A.jsx)("div",{className:r()(v,"mt-auto"),children:(0,A.jsxs)("div",{className:"d-flex flex-column justify-content-center mb-3 p-3 gap-2 px-4",children:[(0,A.jsx)("button",{"aria-label":"Public site",className:"btn btn-outline-success px-3 fw-bolder",onClick:()=>_("/"),title:"Public site",children:"Public site"}),(0,A.jsx)("button",{"aria-label":"Logout",className:"btn btn-outline-danger px-3 fw-bolder",onClick:async()=>{await O.A.get("https://imc2025.imo.net/php/auth/logout.php",{withCredentials:!0}),o(E.I2.logout()),localStorage.removeItem("session"),c("/")},title:"Logout",children:"Logout"})]})})]})})]})};var P=a(7762);const W=()=>{const e=`${P.p.name} ${P.p.year}`;return(0,A.jsxs)("div",{className:"d-flex align-items-center justify-content-between border-bottom",children:[(0,A.jsx)(z,{cd:P.p}),(0,A.jsx)("nav",{className:"p-0 flex-wrap","aria-label":"Main navigation",children:(0,A.jsx)("div",{className:r()(l,"d-flex flex-row flew-wrap px-2 mb-1 justify-content-between"),children:(0,A.jsxs)(D.N_,{"aria-label":"Admin",className:r()("d-flex align-items-center text-dark text-decoration-none gap-2",c),to:"/admin/dashboard",title:"Admin",children:[(0,A.jsx)("img",{src:o,alt:e,className:"rounded-circle border border-2 p-1"}),(0,A.jsxs)("div",{className:"d-flex flex-column",children:[(0,A.jsxs)("h1",{className:"m-0 fw-bolder",children:[P.p.name," ",P.p.year]}),(0,A.jsx)("h2",{className:"m-0 d-none d-md-block",children:"ADMIN AREA"})]})]})})})]})};var q=a(5902),F=a(1351);const R="breadcrumb-module__nav--atkeN",U=e=>{let{links:t=[]}=e;return(0,A.jsx)("nav",{"aria-label":"breadcrumb",className:R,children:(0,A.jsxs)("ol",{className:r()("breadcrumb"),children:[(0,A.jsx)("li",{className:"breadcrumb-item lh-0",children:(0,A.jsx)(D.N_,{to:"/admin/dashboard",children:(0,A.jsx)(F.M14,{className:"me-1"})})}),t.map(((e,a)=>(0,A.jsx)("li",{className:r()("breadcrumb-item",{active:a===t.length-1}),"aria-current":a===t.length-1?"page":void 0,children:a===t.length-1?e.name:(0,A.jsx)(D.N_,{to:e.url,children:e.name})},a)))]})})},Y=e=>{let{breadcrumb:t=[],title:a="",rightContent:i,children:o,isMaxWidth:l=!1}=e;const c=a?`${a} | ${P.p.name_display} ${P.p.year}`:`${P.p.name_display} ${P.p.year}`;return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(q.mg,{children:[(0,A.jsx)("title",{children:c}),(0,A.jsx)("meta",{name:"robots",content:"noindex"})]}),(0,A.jsxs)("div",{className:r()(n,"position-relative"),children:[(0,A.jsx)(W,{}),(0,A.jsxs)("div",{className:"d-flex flex-row",children:[(0,A.jsx)(z,{cd:P.p}),(0,A.jsxs)("div",{className:"mx-md-4 my-3 h-100 flex-grow-1 d-flex flex-column px-3 px-md-0",children:[0!==t.length&&(0,A.jsx)(U,{links:t}),(0,A.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[a&&(0,A.jsx)("h2",{children:a}),i&&(0,A.jsx)("div",{children:i})]}),(0,A.jsx)("div",{className:r()(l&&s),children:o})]})]})]})]})}},2325:(e,t,a)=>{a.r(t),a.d(t,{default:()=>N});var n=a(6942),s=a.n(n);const i="tabs-module__tab--ed4Qs",r="tabs-module__active--frwOf",o="tabs-module__contentMxw--q4nV3";var l=a(1083),c=a(7647),d=a(6645),m=a(6540),u=a(2199),p=a(7767),h=a(9785),x=a(7762),f=a(476),g=a(3975),b=a(9156),v=a(5680),w=a(6538),y=a(5058),_=a(6827),j=a(1100),k=a(4848);const N=()=>{const{participantId:e,tab:t}=(0,p.g)(),[a,n]=(0,m.useState)(null),[N,S]=(0,m.useState)(!1),[A,L]=(0,m.useState)(!1),[C,E]=(0,m.useState)(null),[M,$]=(0,m.useState)(null),[D,I]=(0,m.useState)(null),[V,O]=(0,m.useState)([]),[T,z]=(0,m.useState)([]),[P,W]=(0,m.useState)([]),[q,F]=(0,m.useState)([]),[R,U]=(0,m.useState)(!1),[Y,H]=(0,m.useState)(0),[B,Z]=(0,m.useState)(0),[J,X]=(0,m.useState)([]),[G,Q]=(0,m.useState)([]),K=t||"identity",ee=(0,m.useRef)(!1),te=(0,m.useRef)(!1),ae=(0,p.Zp)(),{control:ne,register:se,handleSubmit:ie,getValues:re,setValue:oe,formState:{errors:le},reset:ce,trigger:de,watch:me}=(0,h.mN)();(0,u.V)(R),(0,m.useEffect)((()=>{const e=me((()=>{U(!0)}));return()=>e.unsubscribe()}),[me]),(0,m.useEffect)((()=>{t||ae(`/admin/participants/onsite/${e}/identity`,{replace:!0})}),[t,e,ae]),(0,m.useEffect)((()=>{if(ee.current)return;ee.current=!0,S(!0);(async()=>{try{const e=await l.A.get("https://imc2025.imo.net/php/get_specific_data.php");if(!(e.data.success&&e.data.data.workshops&&e.data.data.payment_methods&&e.data.data.registration_types&&e.data.data.sessions))throw new Error(e.data.message||"Failed to fetch data - please try again later.");z(e.data.data.workshops),O(e.data.data.payment_methods),W(e.data.data.registration_types),F(e.data.data.sessions)}catch(e){$(e.message||"An error occurred while fetching data.")}finally{S(!1)}})()}),[]),(0,m.useEffect)((()=>{if(te.current)return;(async()=>{if(!e)return E("Invalid participant ID."),void S(!1);te.current=!0;try{const t=await l.A.get(`https://imc2025.imo.net/php/admin/api/participant.php?id=${e}`);if(!t.data.success)throw new Error(t.data.message||"Failed to fetch participant. Please refresh the page.");n(t.data.data),ce(t.data.data.participant)}catch(e){E(e.message)}finally{S(!1)}})()}),[e,ce]),(0,m.useEffect)((()=>{if(!a&&0===q.length)return;const{dob:e,...t}=a.participant;if(e){const[t,a,n]=e.split("-");oe("dobDay",String(Number(n))),oe("dobMonth",String(Number(a))),oe("dobYear",t)}Object.keys(t).forEach((e=>{t[e]&&oe(e,t[e])}));const n=a.workshops?.map((e=>String(e.id)))||[];oe("workshops",n);const s=a.arrival||{};Object.keys(s).forEach((e=>{null!==s[e]&&oe(e,e.includes("hour")||e.includes("minute")?s[e].toString().padStart(2,"0"):s[e])}));const i=a.contributions||[];if(q.length>0){const e=i.filter((e=>"talk"===e.type)).map((e=>({...e}))),t=i.filter((e=>"poster"===e.type)).map((e=>({...e})));X(e),Q(t),oe("talks",e),oe("posters",t)}a.accommodation?.registration_type_id&&oe("registration_type_id",String(a.accommodation.registration_type_id)),a.extra_options&&(oe("excursion",a.extra_options.excursion),oe("buy_tshirt",a.extra_options.buy_tshirt),oe("tshirt_size",a.extra_options.tshirt_size))}),[a]);const ue="1"===a?.participant?.is_online,pe=[{url:"/admin/participants/"+(ue?"online":"onsite"),name:ue?"Online Participants":"Onsite Participants"},{url:`/admin/participants/${ue?"online":"onsite"}/${e}/${K}`,name:`${a?.participant?.first_name?a.participant.first_name.charAt(0).toUpperCase()+a.participant.first_name.slice(1):"Participant"} \n        ${a?.participant?.last_name||""} - \n        ${K.charAt(0).toUpperCase()+K.slice(1)}`}],he=a&&V.length>0&&T.length>0&&P.length>0;return M?(0,k.jsx)("div",{className:"alert alert-danger fw-bolder",children:M}):(0,k.jsxs)(c.A,{breadcrumb:pe,isMaxWidth:!0,children:[(0,k.jsxs)("div",{className:"position-relative fw-bolder",children:[!N&&C&&(0,k.jsx)("div",{className:"alert alert-danger",children:C}),!N&&ee.current&&te.current&&!a&&(0,k.jsx)("div",{className:"alert alert-danger",children:"No participant data available."}),!N&&D&&(0,k.jsx)("div",{className:"alert alert-success",children:D})]}),(N||!ee.current)&&(0,k.jsx)(d.A,{}),!N&&a&&he&&(0,k.jsxs)("form",{onSubmit:ie((async t=>{L(!0),E(null),I(null);if(!await de())return L(!1),void E("Please fill in all required fields.");if("1"===t.buy_tshirt&&!t.tshirt_size)return L(!1),void E("You must select a T-shirt size if you choose to buy one.");t.talks=J,t.posters=G;try{const a=await l.A.post(`https://imc2025.imo.net/php/admin/api/update_participant.php?id=${e}`,t,{headers:{"Content-Type":"application/json"}});if(!a.data.success)throw new Error(a.data.message||"Failed to update participant.");I("Participant updated successfully! The page will now reload to assure data integrity."),U(!1),setTimeout((()=>{window.location.reload()}),1e3)}catch(e){E(e.message)}finally{L(!1)}})),children:[(0,k.jsx)("ul",{className:s()("nav nav-tabs mb-3 mt-2",i,"flex-column flex-sm-row"),children:[{key:"identity",label:"Identity"},{key:"workshops",label:"Workshops"},{key:"arrival",label:"Arrival"},{key:"contribution",label:"Contribution"},{key:"accommodation",label:"Accommodation"},{key:"extras",label:"Extras"},{key:"comments",label:"Comments"},{key:"summary",label:"Summary"}].map((t=>{let{key:a,label:n}=t;return(0,k.jsx)("li",{className:"nav-item",children:(0,k.jsx)("a",{className:"nav-link "+(K===a?`active ${r}`:""),href:`/admin/participants/onsite/${e}/${a}`,onClick:t=>{t.preventDefault(),ae(`/admin/participants/onsite/${e}/${a}`)},children:n})},a)}))}),(0,k.jsxs)("div",{className:s()("tab-content mx-auto",o),children:["identity"===t&&(0,k.jsx)(f.A,{isAdmin:!0,register:se,errors:le,setValue:oe,trigger:de}),"workshops"===t&&(0,k.jsx)(g.A,{isAdmin:!0,conferenceData:x.p,register:se,errors:le,setValue:oe,trigger:de,watch:me,workshops:T}),"arrival"===t&&(0,k.jsx)(b.A,{isAdmin:!0,conferenceData:x.p,register:se,errors:le,setValue:oe,trigger:de}),"contribution"===t&&(0,k.jsx)(v.A,{isAdmin:!0,conferenceData:x.p,control:ne,register:se,errors:le,getValues:re,setValue:oe,watch:me,trigger:de,sessions:q}),"accommodation"===t&&(0,k.jsx)(w.A,{isAdmin:!0,conferenceData:x.p,control:ne,register:se,errors:le,paymentMethods:V,setValue:oe,registrationTypes:P,trigger:de}),"extras"===t&&(0,k.jsx)(y.A,{isAdmin:!0,conferenceData:x.p,register:se,errors:le,setValue:oe,trigger:de,watch:me,control:ne}),"comments"===t&&(0,k.jsx)(_.A,{isAdmin:!0,register:se,errors:le,setValue:oe,trigger:de}),"summary"===t&&he&&(0,k.jsx)(j.A,{isAdmin:!0,isEarlyBird:a?.participant.is_early_bird,conferenceData:x.p,getValues:re,setValue:oe,setTotal:H,setPaypalFee:Z,workshops:T,registrationTypes:P,paymentMethods:V,watch:me}),(0,k.jsx)("div",{className:"mt-4 d-flex justify-content-end",children:(0,k.jsx)("button",{type:"submit",className:"btn btn-outline-primary fw-bolder",disabled:A,children:A?"Saving...":"Save Changes"})})]})]})]})}},7762:(e,t,a)=>{a.d(t,{p:()=>n});const n=JSON.parse('{"year":2025,"num":"44th","welcome":"Welkom!","thank_you":"Bedankt!","name":"IMC","name_display":"International Meteor Conference","dates":{"start":"2025-09-18","end":"2025-09-21"},"location":"Soest, the Netherlands","consulat":"Dutch consulate","deadlines":{"reg":"2025-07-15","paper":"2025-10-31","full_reimbursement_before":"2025-05-01","half_reimbursement_before":"2025-07-15","early_birds":"2025-05-01"},"poster_dim":"A1 size (59.4cm x 84.1cm / 23.4″ x 33.1″)","poster_print":{"desc":"Maximum size A1 (59.4cm x 84.1cm / 23.4″ x 33.1″), uploaded in PDF, deadline for sending September 1.","price":35,"size":"A1 size (59.4cm x 84.1cm / 23.4″ x 33.1″)"},"sessions":["Video meteor work","Radio meteor work","Visual meteor work","Meteor physics and dynamics","Meteor stream analyses and modelling","Meteor related software and hardware","Ongoing meteor work","Miscellaneous"],"costs":{"after_early_birds":30,"admin":"15€","online":20,"rooms":[{"price":250,"description":"Quadruple room in the IMC host","number":68,"type":"quadruple"},{"price":350,"description":"Double room in the IMC host","number":12,"type":"double"},{"price":500,"description":"Single room in the IMC host","number":8,"type":"single"},{"price":200,"description":"No accommodation","type":"no"}],"tshirts":{"models":["men","women"],"sizes":["S","M","L","XL","XXL"],"price":15},"printed_proceedings":20},"co_organizer":[{"abbr":"IMO","name":"International meteor organization","website":"https://imo.net"},{"abbr":"WGM","name":"KNVWS Meteor Section","website":"https://werkgroepmeteoren.nl/english"}],"workshops":[{"title":"Spectroscopy Workshop","date":"2025-09-18","period":"09:30 to 12:30 CEST","cost":22.5,"description":"including coffee break and lunch","email_to":{"name":"Joe Zender","email":"joe.zender@esa.int"}},{"title":"Radio Workshop","date":"2025-09-17","period":"09:30 to 17:00 CEST","cost":26.5,"cost_online":5,"description":"including coffee break and lunch","email_to":{"name":"Hervé Lamy","email":"herve.lamy@aeronomie.be"}}],"contact":[{"q":"a question about the website or a technical difficulty","email":"vperlerin@gmail.com","name":"V. Perlerin"},{"q":"a question about the conference or accommodation","email":"imc2025@imo.net","name":"IMC 2025 Team"},{"q":"a question about payment or your registration","email":"marc.gyssens@uhasselt.be","name":"IMO Treasuer"},{"q":"a question about any other topic","email":"imc2025@imo.net","name":"IMC 2025 Team"}]}')},2199:(e,t,a)=>{a.d(t,{V:()=>i});var n=a(6540),s=a(7767);const i=e=>{const t=(0,s.Zp)(),a=(0,s.zy)();(0,n.useEffect)((()=>{const t=t=>{e&&(t.preventDefault(),t.returnValue="You have unsaved changes. Do you really want to leave?")};return window.addEventListener("beforeunload",t),()=>{window.removeEventListener("beforeunload",t)}}),[e]),(0,n.useEffect)((()=>{const n=n=>{if(e){window.confirm("You have unsaved changes. Do you really want to leave?")||(n.preventDefault(),t(a.pathname,{replace:!0}))}};return window.addEventListener("popstate",n),()=>{window.removeEventListener("popstate",n)}}),[e,t,a.pathname])}},5846:(e,t,a)=>{a.d(t,{Ai:()=>r,Lu:()=>i,p6:()=>s});const n=e=>{if(e>=11&&e<=13)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},s=(e,t)=>{const a=new Date(e),s=new Date(t),i=a.toLocaleString("en-US",{month:"long"}),r=a.getDate(),o=s.getDate();return`${i} ${r}${n(r)} - ${o}${n(o)}`},i=function(e){return function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Date(e),r=i.getDate(),o=i.toLocaleString("en-US",{month:"long"}),l=i.toLocaleString("en-US",{weekday:"long"}),c=i.getFullYear();return`${t?l+", ":""}${r}${n(r)}${a?" "+o:""}${s?" "+c:""}`}(e,!0,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2])},r=function(e,t){let a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const s=new Date(e);return s.setDate(s.getDate()+t),i(s.toISOString(),a,n)}},1280:(e,t,a)=>{a.d(t,{_v:()=>n});const n=e=>{e&&e.stopPropagation()}},3464:(e,t,a)=>{e.exports=a.p+"702c5653d2360537e78f.svg"}}]);