"use strict";(self.webpackChunkimc2025=self.webpackChunkimc2025||[]).push([[638],{2337:(e,t,s)=>{s.d(t,{A:()=>n});s(6942),s(1358),s(6540);var a=s(4848);const r=e=>Math.round(100*(e+(.034*e+.35)/.966))/100,n=e=>{let{isOnline:t,conferenceData:s,participantData:n,workshops:i,registrationTypes:o,paymentMethods:l}=e;if(!n||!n.participant)return(0,a.jsx)("div",{className:"alert alert-danger",children:"No participant data available."});const{participant:c,accommodation:d,extra_options:p,contributions:m=[],payments:u=[]}=n,h=d?.registration_type||"Unknown",g=parseFloat(d?.registration_price||0)+("0"===c.is_early_bird?s.costs.after_early_birds:0),b=i.map((e=>({title:e.title,price:t?parseFloat(e.price_online):parseFloat(e.price)}))),x=b.reduce(((e,t)=>e+t.price),0),y="1"===p?.buy_tshirt?parseFloat(s.costs.tshirts.price):0,f=m.filter((e=>"1"===e.print)),j=f.length*s.poster_print.price,_="Paypal"===(u.length>0?u[0].payment_method:"Unknown");let v=g+x+y+j;const w=_?r(v)-v:0;v+=w;const N=s.costs.online;let $=x+N;const k=_?r($)-$:0;return $+=k,(0,a.jsxs)("div",{className:"p-2 border rounded flex-shrink-0",children:[(0,a.jsx)("h4",{className:"mb-3",children:"Billing Summary"}),(0,a.jsxs)("table",{className:"table table-striped table-hover",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{scope:"col",children:"Description"}),(0,a.jsx)("th",{scope:"col",className:"text-end",children:"Price"})]})}),(0,a.jsxs)("tbody",{children:[t?(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"ps-3 text-muted",children:"Online Conference Registration"}),(0,a.jsxs)("td",{className:"text-end",children:[N.toFixed(2),"€"]})]}):(0,a.jsxs)("tr",{children:[(0,a.jsxs)("td",{className:"ps-3 text-muted",children:["Conference Registration ","Unknown"!==h?`(${h})`:""]}),(0,a.jsxs)("td",{className:"text-end",children:[g.toFixed(2),"€"]})]}),b.map(((e,t)=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"ps-3 text-muted",children:e.title}),(0,a.jsxs)("td",{className:"text-end",children:[e.price.toFixed(2),"€"]})]},t))),f.length>0&&(0,a.jsxs)("tr",{children:[(0,a.jsxs)("td",{className:"ps-3 text-muted",children:["Printed Poster",f.length>1?"s":""," x ",f.length]}),(0,a.jsxs)("td",{className:"text-end",children:[j.toFixed(2),"€"]})]}),y>0&&p?.tshirt_size&&(0,a.jsxs)("tr",{children:[(0,a.jsxs)("td",{className:"ps-3 text-muted",children:["T-Shirt (",p.tshirt_size,")"]}),(0,a.jsxs)("td",{className:"text-end",children:[y.toFixed(2),"€"]})]}),_&&(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"ps-3 text-muted",children:"PayPal Fee (3.4% + 0.35€)"}),(0,a.jsxs)("td",{className:"text-end",children:[t?k.toFixed(2):w.toFixed(2),"€"]})]}),(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:(0,a.jsx)("strong",{children:"TOTAL"})}),(0,a.jsx)("td",{className:"text-end",children:(0,a.jsxs)("strong",{children:[t?$.toFixed(2):v.toFixed(2),"€"]})})]})]})]})]})}},6505:(e,t,s)=>{s.d(t,{A:()=>o});const a="index-module__paypal--rFepz";var r=s(6942),n=s.n(r),i=(s(6540),s(4848));const o=e=>{let{className:t,year:s,amount:r}=e;return(0,i.jsxs)("form",{action:"https://www.paypal.com/cgi-bin/webscr",method:"post",children:[(0,i.jsx)("input",{type:"hidden",name:"cmd",value:"_xclick"}),(0,i.jsx)("input",{type:"hidden",name:"business",value:"payment@imo.net"}),(0,i.jsx)("input",{type:"hidden",name:"item_name",value:`IMC ${s} Registration`}),(0,i.jsx)("input",{type:"hidden",name:"no_note",value:"1"}),(0,i.jsx)("input",{type:"hidden",name:"currency_code",value:"EUR"}),(0,i.jsx)("input",{type:"hidden",name:"tax",value:"0"}),(0,i.jsx)("input",{type:"hidden",name:"lc",value:"GB"}),!!r&&(0,i.jsx)("input",{type:"hidden",name:"amount",value:r}),(0,i.jsxs)("button",{type:"submit",className:n()("btn btn-default border rounded-2 d-flex align-items-center gap-2 fw-bolder pe-4",a,t),children:[(0,i.jsx)("img",{src:"https://www.paypalobjects.com/paypal-ui/logos/svg/paypal-mark-color.svg",alt:`Make your IMC ${s} payment with PayPal`,border:"0",style:{width:"4rem"}}),"Make your IMC ",s,(0,i.jsx)("br",{}),"payment with PayPal"]})]})}},9156:(e,t,s)=>{s.d(t,{A:()=>p});var a=s(6942),r=s.n(a),n=s(8232),i=(s(6540),s(2834)),o=s(5846),l=s(4848);const c=Array.from({length:24},((e,t)=>t.toString().padStart(2,"0"))),d=Array.from({length:6},((e,t)=>(10*t).toString().padStart(2,"0"))),p=e=>{let{isAdmin:t,conferenceData:s,register:a,errors:p,isDebugMode:m=!1,step:u,stepTotal:h,trigger:g,setValue:b}=e;const x=(y=s.dates.start,f=s.dates.end,Array.from({length:(new Date(f)-new Date(y))/864e5+1},((e,t)=>{const s=new Date(y);return s.setDate(s.getDate()+t),{value:s.toISOString().split("T")[0],label:(0,o.Lu)(s.toISOString().split("T")[0],!1,!1)}})));var y,f;return(0,l.jsxs)(l.Fragment,{children:[!t&&(0,l.jsxs)("h4",{className:"mb-3 border-bottom pb-2",children:[(0,l.jsx)(i.A,{step:u,stepTotal:h}),"Travel Details"]}),(0,l.jsxs)("div",{className:r()(n.A.smallW,"mx-auto position-relative"),children:[m&&(0,l.jsx)("button",{type:"button",className:"position-absolute top-0 end-0 btn btn-secondary",onClick:()=>{b("arrival_date",x[0].value),b("arrival_hour","14"),b("arrival_minute","30"),b("departure_date",x[x.length-1].value),b("departure_hour","12"),b("departure_minute","00"),b("travelling","train"),b("travelling_details","I will be alone in my train."),g()},children:"Fill Test Data"}),!t&&(0,l.jsxs)("p",{className:"fw-bolder",children:["If you plan to arrive before ",x[0].label,", you must arrange your own accommodation."]}),(0,l.jsxs)("div",{className:n.A.smallW,children:[(0,l.jsxs)("div",{className:"mb-3 row align-items-center",children:[(0,l.jsx)("label",{className:"col-sm-3 col-form-label fw-bold",children:"Arrival"}),(0,l.jsxs)("div",{className:"col-sm-9 d-flex align-items-center gap-1",children:[(0,l.jsxs)("select",{className:r()("form-select me-2",p.arrival_date&&"is-invalid"),...a("arrival_date",{required:"Arrival date is required"}),onBlur:()=>g("arrival_date"),children:[(0,l.jsx)("option",{value:"",children:"Select Arrival Date"}),x.map((e=>{let{value:t,label:s}=e;return(0,l.jsx)("option",{value:t,children:s},t)}))]}),(0,l.jsxs)("select",{className:r()("form-select w-auto",p.arrival_hour&&"is-invalid"),...a("arrival_hour",{required:"Hour is required"}),onBlur:()=>g("arrival_hour"),children:[(0,l.jsx)("option",{value:"",children:"Hour"}),c.map((e=>(0,l.jsx)("option",{value:e,children:e},e)))]}),":",(0,l.jsxs)("select",{className:r()("form-select w-auto",p.arrival_minute&&"is-invalid"),...a("arrival_minute",{required:"Minute is required"}),onBlur:()=>g("arrival_minute"),children:[(0,l.jsx)("option",{value:"",children:"Min"}),d.map((e=>(0,l.jsx)("option",{value:e,children:e},e)))]})]}),p.arrival_date&&(0,l.jsx)("p",{className:"text-danger mb-0",children:(0,l.jsx)("small",{children:p.arrival_date.message})})]}),(0,l.jsxs)("div",{className:"mb-3 row align-items-center",children:[(0,l.jsx)("label",{className:"col-sm-3 col-form-label fw-bold",children:"Departure"}),(0,l.jsxs)("div",{className:"col-sm-9 d-flex align-items-center gap-1",children:[(0,l.jsxs)("select",{className:r()("form-select me-2",p.departure_date&&"is-invalid"),...a("departure_date",{required:"Departure date is required"}),onBlur:()=>g("departure_date"),children:[(0,l.jsx)("option",{value:"",children:"Select Departure Date"}),x.map((e=>{let{value:t,label:s}=e;return(0,l.jsx)("option",{value:t,children:s},t)}))]}),(0,l.jsxs)("select",{className:r()("form-select w-auto",p.departure_hour&&"is-invalid"),...a("departure_hour",{required:"Hour is required"}),onBlur:()=>g("departure_hour"),children:[(0,l.jsx)("option",{value:"",children:"Hour"}),c.map((e=>(0,l.jsx)("option",{value:e,children:e},e)))]}),":",(0,l.jsxs)("select",{className:r()("form-select w-auto",p.departure_minute&&"is-invalid"),...a("departure_minute",{required:"Minute is required"}),onBlur:()=>g("departure_minute"),children:[(0,l.jsx)("option",{value:"",children:"Min"}),d.map((e=>(0,l.jsx)("option",{value:e,children:e},e)))]})]}),p.departure_date&&(0,l.jsx)("p",{className:"text-danger mb-0",children:(0,l.jsx)("small",{children:p.departure_date.message})})]}),(0,l.jsxs)("div",{className:"mb-3 row",children:[(0,l.jsx)("label",{className:"col-sm-3 col-form-label fw-bold",children:"Travelling by"}),(0,l.jsxs)("div",{className:"col-sm-9",children:[(0,l.jsxs)("select",{className:r()("form-select",p.travelling&&"is-invalid",n.A.mdAuto),...a("travelling",{required:"Mode of Transportation is required"}),onBlur:()=>g("travelling"),children:[(0,l.jsx)("option",{value:"",children:"Select a Mode of Transportation"}),(0,l.jsx)("option",{value:"car",children:"Car"}),(0,l.jsx)("option",{value:"bus",children:"Bus"}),(0,l.jsx)("option",{value:"plane",children:"Plane"}),(0,l.jsx)("option",{value:"train",children:"Train"}),(0,l.jsx)("option",{value:"local",children:"Local Resident"}),(0,l.jsx)("option",{value:"undecided",children:"Not yet decided"})]}),p.travelling&&(0,l.jsx)("p",{className:"text-danger mb-0",children:(0,l.jsx)("small",{children:p.travelling.message})})]})]}),(0,l.jsxs)("div",{className:"mb-3 row",children:[(0,l.jsx)("label",{className:"col-sm-3 col-form-label fw-bold",children:"Travel Details"}),(0,l.jsx)("div",{className:"col-sm-9",children:(0,l.jsx)("textarea",{className:"form-control",rows:"3",...a("travelling_details"),onBlur:()=>g("travelling_details")})})]})]})]})]})}},5058:(e,t,s)=>{s.d(t,{A:()=>d});var a=s(6942),r=s.n(a),n=s(8232),i=s(6540),o=s(2834),l=s(9785),c=s(4848);const d=e=>{let{isAdmin:t,conferenceData:s,register:a,errors:d,isDebugMode:p=!1,step:m,stepTotal:u,trigger:h,setValue:g,watch:b,control:x}=e;const y=b("buy_tshirt"),f=b("tshirt_size"),{isSubmitted:j}=(0,l.lN)({control:x}),[_,v]=(0,i.useState)(!1),w=s.costs.tshirts.models.flatMap((e=>s.costs.tshirts.sizes.map((t=>`${e.charAt(0).toUpperCase()+e.slice(1)} ${t}`))));(0,i.useEffect)((()=>{if(null==y)return;const e="1"===y;_!==e&&v(e),e||g("tshirt_size",""),h()}),[y,_,g,h]),(0,i.useEffect)((()=>{h()}),[f,h]);return(0,c.jsxs)(c.Fragment,{children:[!t&&(0,c.jsxs)("h4",{className:"mb-3 border-bottom pb-2",children:[(0,c.jsx)(o.A,{step:m,stepTotal:u}),"Extras"]}),(0,c.jsxs)("div",{className:r()(n.A.smallW,"mx-auto position-relative"),children:[p&&(0,c.jsx)("button",{type:"button",className:"position-absolute top-0 end-0 btn btn-secondary",onClick:()=>{g("excursion","1"),g("buy_tshirt","1"),g("tshirt_size","Men L"),h()},children:"Fill Test Data"}),(0,c.jsxs)("div",{className:"mb-4",children:[(0,c.jsx)("label",{className:"fw-bold mb-2",children:"Do you want to participate in the excursion (at no extra cost)?"}),(0,c.jsx)("div",{className:"d-flex flex-column gap-2",children:["1","0"].map((e=>(0,c.jsxs)("div",{className:"form-check",children:[(0,c.jsx)("input",{type:"radio",id:`excursion-${e}`,className:r()("form-check-input",{"is-invalid":j&&d.excursion}),value:e,...a("excursion",{required:"Please select an option"}),checked:b("excursion")===e}),(0,c.jsx)("label",{className:"form-check-label",htmlFor:`excursion-${e}`,children:"1"===e?"Yes":"No"})]},e)))}),j&&d.excursion&&(0,c.jsx)("p",{className:"text-danger",children:(0,c.jsx)("small",{children:d.excursion.message})})]}),(0,c.jsxs)("div",{className:"mb-3",children:[(0,c.jsxs)("label",{className:"fw-bold mb-2",children:["Do you want to buy the official IMC",s.year," T-Shirt for ",s.costs.tshirts.price,"€?"]}),(0,c.jsx)("div",{className:"d-flex flex-column gap-2",children:["1","0"].map((e=>(0,c.jsxs)("div",{className:"form-check",children:[(0,c.jsx)("input",{type:"radio",id:`tshirt-${e}`,className:r()("form-check-input",{"is-invalid":j&&d.buy_tshirt}),value:e,...a("buy_tshirt",{required:"Please select an option"}),checked:b("buy_tshirt")===e,onChange:e=>{return t=e.target.value,g("buy_tshirt",t,{shouldDirty:!0,shouldTouch:!0,shouldValidate:!0}),void h("tshirt_size");var t}}),(0,c.jsx)("label",{className:"form-check-label",htmlFor:`tshirt-${e}`,children:"1"===e?"Yes":"No"})]},e)))}),j&&d.buy_tshirt&&(0,c.jsx)("p",{className:"text-danger",children:(0,c.jsx)("small",{children:d.buy_tshirt.message})})]}),_&&(0,c.jsxs)("div",{className:"mb-4",children:[(0,c.jsx)("label",{className:"fw-bold mb-2",children:"Select your T-Shirt size"}),(0,c.jsxs)("select",{className:r()("form-select",{"is-invalid":j&&d.tshirt_size}),...a("tshirt_size",{required:"1"===y&&"Please select a T-Shirt size"}),onChange:e=>{return t=e.target.value,void g("tshirt_size",t,{shouldDirty:!0,shouldTouch:!0,shouldValidate:!0});var t},value:f||"",children:[(0,c.jsx)("option",{value:"",children:"Select size"}),w.map((e=>(0,c.jsx)("option",{value:e,children:e},e)))]}),j&&d.tshirt_size&&(0,c.jsx)("p",{className:"text-danger",children:(0,c.jsx)("small",{children:d.tshirt_size.message})})]})]})]})}},914:(e,t,s)=>{s.d(t,{Z:()=>r});var a=s(1083);const r=async e=>{let{subject:t,message:s,to:r,toName:n,fromName:i,replyTo:o,replyName:l,bcc:c=[],token:d=null}=e;try{return"success"===(await a.A.post("https://www.imo.net/members/api/imc_mailer_api/send_email",{subject:t,message:s,to:r,to_name:n,from_name:i,reply_to:o,reply_name:l,bcc:c,token:d},{headers:{"Content-Type":"application/json"}})).data.status?{success:!0,message:"Email sent successfully."}:{success:!1,message:"Failed to send email."}}catch(e){return console.error("Error sending email:",e),{success:!1,message:"An error occurred while sending the email."}}}},4007:(e,t,s)=>{s.r(t),s.d(t,{default:()=>C});var a=s(1083),r=s(6540),n=s(9785),i=s(7767),o=s(5846),l=s(6328),c=s(6538),d=s(9156),p=s(6827),m=s(5680),u=s(5058),h=s(476),g=s(6645),b=s(4567),x=s(6505),y=s(2337),f=s(1100),j=s(3975),_=s(408),v=s(7762),w=s(4976),N=s(914),$=s(4157);const k="2025;",T=(e,t,s,a,r,n,i,o,l)=>{const c=parseFloat(e.total_due)||0,d="1"===e.payment_method_id&&parseFloat(e.paypal_fee)||0;return`\n        <h3 style="margin-bottom:5px;">Personal Details</h3>\n        <strong>Name:</strong> ${e.title} ${e.first_name} ${e.last_name}<br>\n        <strong>Email:</strong> ${e.email}<br>\n        <strong>Phone:</strong> ${e.phone}<br>\n        <strong>Address:</strong> ${e.address}, ${e.postal_code} ${e.city}, ${e.country}<br>\n        ${e.organization?`<strong>Organization:</strong> ${e.organization}<br>`:""}\n        <strong>Date of Birth:</strong> ${e.dob}<br> \n\n        <h3 style="margin-bottom:5px;">Arrival & Departure</h3>\n        <strong>Locamotion:</strong>  by ${n.travelling}\n        <strong>Arrival:</strong> ${n.arrival_date} at ${n.arrival_hour}:${n.arrival_minute}<br>\n        <strong>Departure:</strong> ${n.departure_date} at ${n.departure_hour}:${n.departure_minute}<br>\n        ${n.travelling_details?`<strong>Details:</strong> ${n.travelling_details}<br>`:""} \n\n        <h3 style="margin-bottom:5px;">Workshops</h3>\n        ${s.length>0?`\n            <ul style="margin-top:0; padding-left:15px;">\n                ${s.map((e=>`\n                    <li>\n                        <strong>${e.title}</strong> on ${e.date} (${e.period})<br>\n                        Responsible: ${e.responsible_name}</a>)\n                    </li>\n                `)).join("")}\n            </ul>\n        `:"No workshops selected.<br>"} \n\n\n        <h3 style="margin-bottom:5px;">Contributions</h3>\n        ${a.length>0?`\n            <h4 style="margin-bottom:5px;">Talks</h4>\n            ${a.filter((e=>"talk"===e.type)).length>0?`\n                <ul style="margin-top:0; padding-left:15px;">\n                    ${a.filter((e=>"talk"===e.type)).map((e=>`\n                        <li><strong>${e.title}</strong> by ${e.authors} (${e.duration})<br>${e.abstract}<br>Session: ${e.session_name}</li>\n                    `)).join("")}\n                </ul>\n            `:"No talks submitted."}\n            \n           <h4 style="margin-bottom:5px;">Posters</h4>\n            ${a.filter((e=>"poster"===e.type)).length>0?`\n                <ul style="margin-top:0; padding-left:15px;">\n                    ${a.filter((e=>"poster"===e.type)).map((e=>`\n                        <li>\n                            <strong>${e.title}</strong> by ${e.authors}<br>\n                            ${e.abstract}<br>\n                            ${"1"===e.print?"<strong>The poster will be printed on site by the LOC.</strong><br>":""}\n                        </li>\n                    `)).join("")}\n                </ul>\n            `:"No posters submitted."}\n\n        `:"No contributions."} \n\n        <h3 style="margin-bottom:5px;">Additional Information</h3>\n        <strong>Excursion:</strong> ${"1"===r.excursion?"Yes":"No"}<br>\n        <strong>T-Shirt:</strong> ${"1"===r.buy_tshirt?`Yes (Size: ${r.tshirt_size})`:"No"}<br>\n        <strong>Comments:</strong> ${r.comments||"No comments provided."}<br><br>\n\n        <h3 style="margin-bottom:5px;">Payment Details</h3>\n        <strong>Accommodation Type:</strong> ${"no"===t.registration_type?"No Accommodation":`${t.registration_type} room`}<br>\n       <strong>Payment Method:</strong>  \n        ${o.find((t=>t.id===e.payment_method_id))?.method||"Unknown"}<br>\n\n        <strong>Total Due:</strong> \n        ${"1"===e.payment_method_id?(parseFloat(c)+parseFloat(d)).toFixed(2):c.toFixed(2)}€<br>\n\n        ${"1"===e.payment_method_id?`including ${d.toFixed(2)}€ of PayPal fees<br>`:""} \n    `},A=function(e,t,s,a,r){let n=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const i=n?"you":"Female"===e.gender?"she":"he",o=n?"yourself":"Female"===e.gender?"herself":"himself",l="no"===t.registration_type?"not to stay":"to stay",c="no"===t.registration_type?`. So, ${i.charAt(0).toUpperCase()+i.slice(1)} will take care of ${o} accommodation.`:` in a <strong>${t.registration_type} room</strong>.`;let d="";0===s.length?d=`${i.charAt(0).toUpperCase()+i.slice(1)} won't participate in any workshops.<br>`:(d=`${i.charAt(0).toUpperCase()+i.slice(1)} will participate in the following workshop${s.length>1?"s":""}:<br>`,s.forEach((e=>{d+=`- <strong>${e.title}</strong> on ${e.date} (${e.period}).<br>`})));let p="";0===a.length?p=`<br>${i.charAt(0).toUpperCase()+i.slice(1)} won't present anything during the conference.<br>`:(p=`<br>${i.charAt(0).toUpperCase()+i.slice(1)} will present:<br>`,a.forEach((e=>{p+="- "+("talk"===e.type?`a talk titled <strong>"${e.title}"</strong>`:`a poster titled <strong>"${e.title}"</strong>`),"poster"===e.type&&"1"===e.print&&(p+=`, and ${i} would like this poster to be printed on-site by the LOC.`),p+="<br>"})));let m="";"1"===r.excursion?m+=`${i.charAt(0).toUpperCase()+i.slice(1)} will be part of the excursion.<br>`:m+=`${i.charAt(0).toUpperCase()+i.slice(1)} won't be part of the excursion.<br>`,"1"===r.buy_tshirt&&(m+=`${i.charAt(0).toUpperCase()+i.slice(1)} would like a t-shirt (size: ${r.tshirt_size}).<br>`);return`\n        ${n?"You":`${e.title} ${e.first_name} ${e.last_name}`} chose <strong>${l}</strong> at the LOC${c}<br><br>\n        ${d} \n        ${p} \n        ${m}\n    `};var D=s(9066),S=s(4848);const C=()=>{const e=(0,i.zy)(),t="1"===new URLSearchParams(e.search).get("debug"),[s,C]=(0,r.useState)({teamEmailSent:null,participantEmailSent:null,error:null}),[F,M]=(0,r.useState)(null),[I,P]=(0,r.useState)(!1),[E,B]=(0,r.useState)(null),[z,O]=(0,r.useState)(0),[q,U]=(0,r.useState)(""),[V,R]=(0,r.useState)(1),[L,H]=(0,r.useState)(null),[W,Y]=(0,r.useState)(0),{workshops:G,paymentMethods:Z,registrationTypes:J,loading:K,sessions:Q,error:X}=(()=>{const[e,t]=(0,r.useState)([]),[s,n]=(0,r.useState)([]),[i,o]=(0,r.useState)([]),[l,c]=(0,r.useState)([]),[d,p]=(0,r.useState)(!0),[m,u]=(0,r.useState)(null);return(0,r.useEffect)((()=>{(async()=>{try{const e=await a.A.get("https://imc2025.imo.net/php/get_specific_data.php");if(!e.data.success)throw new Error(e.data.message||"Failed to fetch specific IMC data. Please, refresh the page.");t(e.data.data.workshops||[]),n(e.data.data.payment_methods||[]),o(e.data.data.registration_types||[]),c(e.data.data.sessions||[])}catch(e){u(e.message||"Failed to fetch specific IMC data. Please, refresh the page.")}finally{p(!1)}})()}),[]),{workshops:e,paymentMethods:s,registrationTypes:i,sessions:l,loading:d,error:m}})(),{participant:ee,loading:te,error:se}=(e=>{const[t,s]=(0,r.useState)(null),[n,i]=(0,r.useState)(!1),[o,l]=(0,r.useState)(null);return(0,r.useEffect)((()=>{e&&(async()=>{i(!0),l(null);try{const t=await a.A.get(`https://imc2025.imo.net/php/api/get_participant.php?id=${e}`);if(!t.data.success||!t.data.data)throw new Error(t.data.message||"Participant not found.");s(t.data.data)}catch(e){l(e.message||"Failed to fetch participant data.")}finally{i(!1)}})()}),[e]),{participant:t,loading:n,error:o,setParticipant:s}})(E),{control:ae,register:re,handleSubmit:ne,formState:{errors:ie},getValues:oe,setValue:le,trigger:ce,watch:de}=(0,n.mN)(),pe=(e=>{if(!e)return null;const t=new Date(e),s=new Date;let a=s.getFullYear()-t.getFullYear();const r=s.getMonth()-t.getMonth();return(r<0||0===r&&s.getDate()<t.getDate())&&a--,a})(de("dob")),me=null!==pe&&pe<16,ue=new Date<new Date(v.p.deadlines.early_birds);return(0,r.useEffect)((()=>{if(!ee)return;(async()=>{try{const e=((e,t,s)=>{const{participant:a,workshops:r,accommodation:n,arrival:i,extra_options:o,contributions:l}=e,c="1"===a.is_online;return`\n        Hey the IMC ${k} Team, <br><br>\n        Good news: a new Participant has just registered for <strong>${c?"ONLINE":"ON SITE"}</strong> IMC ${k}!<br><br>\n\n        Here is a summary of the registration:<br>\n        ${A(a,n,r,l,o)}\n        <br>\n        Below are the details of the registration: <hr>\n    `+T(a,n,r,l,o,i,0,s)})(ee,0,Z),t=((e,t,s,a,r)=>{const{participant:n,workshops:i,accommodation:o,arrival:l,extra_options:c,contributions:d}=e,p="1"===n.payment_method_id?`<strong>${(parseFloat(n.total_due)+parseFloat(n.paypal_fee)).toFixed(2)}€</strong> \n        (including ${parseFloat(n.paypal_fee).toFixed(2)}€ of Paypal fees).<br>`:"2"===n.payment_method_id?`<strong>${parseFloat(n.total_due).toFixed(2)}€</strong><br>\n           Bank transfers are usually free for EU and EEA countries. However, any costs are always at the participant's expense.<br>`:`<strong>${parseFloat(n.total_due).toFixed(2)}€</strong><br>\n           Since you haven't selected a payment method, <strong>please contact the IMO Treasurer Marc Gyssens immediately</strong>.<br>`,m="1"===n.is_online?"ONLINE version":"ON SITE version";return`\n        Dear ${n.title} ${n.first_name} ${n.last_name},<br><br>\n\n        <strong>Congratulations! You have successfully registered for the ${m} of the ${k} International Meteor Conference!</strong><br><br>\n        Your registration is nearly complete — only one step remains: submitting the required payment of \n\n        ${p} \n\n        ${"1"===n.payment_method_id?`If you have not paid immediately after submitting your registration, you can find the necessary payment instructions <a href="https://${k}.imo.net/register/payment">on our website</a>.<br>`:` The necessary payment instructions can be found <a href="https://${k}.imo.net/register/payment">on our website</a>.<br>`}\n        \n        The registration fee must be sent to the IMO Treasurer <strong>IMMEDIATELY</strong>. Failure to make payment will result in the <strong>cancellation of your registration</strong>.<br><br>\n\n        You can update some of your registration details using the password below on our <a href="https://${k}.imo.net/login">login page</a>:<br>\n        <strong>${r}</strong><br><br>\n\n        We look forward to meeting you at the conference!<br><br>\n        <strong>The IMC ${k} Team</strong><br>---------<br><br>\n\n        Below are the details you provided during registration. If you notice any discrepancies, please contact us immediately.<br>\n\n        <h3 style="margin-bottom:5px;">Summary</h3>\n        ${A(n,o,i,d,c,!0)}\n        <hr>\n        ${T(n,o,i,d,c,l,0,s)}\n    `})(ee,0,Z,0,q),s=ee.workshops.filter((e=>"1"===e.attending)),a="vperlerin@gmail.com".split(",").map((e=>({email:e,name:"BCC Recipient"}))),r=s.map((async e=>{const t=`\n            Hey ${e.responsible_name.split(" ")[0]},<br><br>\n            \n            This is to inform you that ${ee.participant.first_name} ${ee.participant.last_name} (${ee.participant.email}) has registered to attend the "${e.title}" (ONSITE version).<br>\n  \n            If you need further details, feel free to contact the participant.<br><br>\n            \n            Best regards,<br>\n            IMC Conference Team\n          `;return(0,N.Z)({subject:"Workshop Registration",message:t,to:"vperlerin@gmail.com",toName:e.responsible_name,fromName:"IMC 2025",replyTo:ee.participant.email,replyName:ee.participant.first_name+" "+ee.participant.last_name,bcc:a})})),n=await(0,N.Z)({subject:"New Onsite IMC Registration",message:e,to:"vperlerin@gmail.com",toName:"IMC 2025 Team",fromName:"IMC 2025",replyTo:"no-reply@imc.net",replyName:"Do not reply",bcc:a}),i=await(0,N.Z)({subject:"New Onsite IMC Registration",message:t,to:ee.participant.email,toName:`${ee.participant.first_name} ${ee.participant.last_name}`,fromName:"IMC 2025",replyTo:"no-reply@imc.net",replyName:"Do not reply",bcc:a});await Promise.all(r),C({teamEmailSent:n,participantEmailSent:i,error:null})}catch(e){C({teamEmailSent:null,participantEmailSent:null,error:e.message||"Failed to send emails"})}})()}),[ee,G,q]),t?X?(0,S.jsx)("div",{className:"alert alert-danger fw-bolder",children:X}):K||te?(0,S.jsx)(g.A,{}):(0,S.jsxs)(b.A,{title:"Register Onsite",children:[F&&(0,S.jsx)("div",{className:"alert alert-danger fw-bolder",children:F}),L&&(0,S.jsx)("div",{className:"alert alert-success fw-bolder",children:L}),8===V&&L?(0,S.jsx)(S.Fragment,{children:!ee||se?(0,S.jsxs)("div",{className:"alert alert-danger fw-bolder",children:["Database access error. We are sorry, but we couldn't properly record your registration. Please try again or contact us",(0,S.jsx)(w.N_,{"aria-label":"Contact",to:"/contact",title:"Contact",children:"contact us"})," "," for assistance."]}):(0,S.jsx)(S.Fragment,{children:se?(0,S.jsxs)("div",{className:"alert alert-danger fw-bolder",children:["Database access error. We are sorry, but we couldn't properly record your registration. Please try again or contact us",(0,S.jsx)(w.N_,{"aria-label":"Contact",to:"/contact",title:"Contact",children:"contact us"})," "," for assistance."]}):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("h2",{children:v.p.thank_you}),(0,S.jsxs)("p",{children:["We just sent you an email with some instructions. This email contains a summary of your information as well as the password required to eventually update your travel details and your contributions (talks & posters).",(0,S.jsx)("br",{}),"If you do not receive this email within the next two hours"," ",(0,S.jsx)(w.N_,{"aria-label":"Contact",to:"/contact",title:"Contact",children:"contact us"})," "," immediately."]}),(0,S.jsxs)("div",{className:"d-flex flex-column flex-md-row gap-3",children:[(0,S.jsxs)("div",{className:"flex-grow-1",children:[(0,S.jsx)("p",{className:"fw-bolder text-danger",children:"The IMC fee is due without any delay."}),"paypal"===(0,l.g)(ee.participant.payment_method_id,Z)?(0,S.jsxs)("div",{className:"mb-3",children:[(0,S.jsx)("p",{children:"Click the button below to pay immediately with Paypal."}),(0,S.jsx)(x.A,{amount:W+z,year:v.p.year})]}):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("p",{children:(0,S.jsxs)("strong",{children:["  Please, transfer the total amount of ",W,"€ to confirm your registration immediately."]})}),(0,S.jsxs)("blockquote",{className:"border rounded-2 p-3",children:["International Meteor Organization, Jozef Mattheessensstraat 60, 2540 Hove, Belgium",(0,S.jsx)("br",{}),"Bank account at BNP Paribas Fortis Bank Belgium",(0,S.jsx)("br",{}),"BIC bank code: GEBABEBB",(0,S.jsx)("br",{}),"IBAN account number: BE30 0014 7327 5911",(0,S.jsx)("br",{}),"e-mail: treasurer@imo.net"]})]})]}),(0,S.jsx)(y.A,{isOnline:!1,conferenceData:v.p,participantData:ee,workshops:G,registrationTypes:J,paymentMethods:Z})]})]})})}):(0,S.jsxs)("form",{onSubmit:ne((async e=>{P(!0),M(null),H(null);try{const t="https://imc2025.imo.net/php/api/register.php",s={...e,is_early_bird:ue.toString(),is_online:"false",talks:e.talks||[],posters:e.posters||[],total_due:W.toFixed(2),paypal_fee:z.toFixed(2)},r=await a.A.post(t,s,{headers:{"Content-Type":"application/json"}});r.data.success?(H(`Registration successful! (ID: ${r.data.participant_id}) `),B(r.data.participant_id),U(r.data.password)):(M(r.data.message||"Something went wrong."),H("Registration successful but we couldn't send you an email"))}catch(e){M("Failed to submit the form. Please try again.")}finally{P(!1)}})),className:"d-flex flex-grow-1 flex-column position-relative",children:[I&&(0,S.jsx)(g.A,{}),(0,S.jsx)("input",{name:"is_early_bird",type:"hidden",value:ue,...re("is_early_bird")}),(0,S.jsx)("input",{name:"is_online",type:"hidden",value:"false",...re("is_online")}),1===V&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("p",{className:"border rounded-2 p-3",children:[(0,S.jsx)("b",{children:"People who need an invitation letter for Visa"})," must send their request without any delay to imc",v.p.year,"@imo.net. Please, provide your legal private domicile or professional address, passport number and the address of the ",v.p.consulate," where your visa application will be submitted."]}),new Date<new Date(v.p.deadlines.early_birds)&&(0,S.jsxs)("p",{className:"d-flex border rounded-2 p-3 border-info text-info gap-2 mb-5",children:[(0,S.jsx)(_.tP6,{className:D.A.warning}),(0,S.jsxs)("span",{children:[(0,S.jsxs)("span",{className:"d-block fw-bolder",children:["Hurry up! After ",(0,o.Lu)(v.p.deadlines.early_birds),", a late booking fee of ",v.p.costs.after_early_birds,"€ is added to the registration fee"]}),(0,S.jsx)("small",{children:"— because the early birds got the discount, and the latecomers just get the worms (and a fee :)."})]})]})]}),1===V&&(0,S.jsx)(h.A,{register:re,errors:ie,isDebugMode:t,step:V,stepTotal:8,setValue:le,trigger:ce}),2===V&&v.p?.workshops?.length>0&&(0,S.jsx)(j.A,{conferenceData:v.p,register:re,errors:ie,isDebugMode:t,step:V,stepTotal:8,setValue:le,trigger:ce,watch:de,workshops:G}),3===V&&(0,S.jsx)(d.A,{conferenceData:v.p,register:re,errors:ie,isDebugMode:t,step:V,stepTotal:8,setValue:le,trigger:ce}),4===V&&(0,S.jsx)(m.A,{conferenceData:v.p,control:ae,register:re,isDebugMode:t,errors:ie,step:V,stepTotal:8,getValues:oe,setValue:le,sessions:Q,trigger:ce,watch:de}),5===V&&(0,S.jsx)(c.A,{conferenceData:v.p,control:ae,register:re,isDebugMode:t,isEarlyBird:ue,paymentMethods:Z,errors:ie,registrationTypes:J,step:V,stepTotal:8,setValue:le,trigger:ce}),6===V&&(0,S.jsx)(u.A,{conferenceData:v.p,register:re,errors:ie,isDebugMode:t,step:V,stepTotal:8,setValue:le,trigger:ce,watch:de,control:ae}),7===V&&(0,S.jsx)(p.A,{register:re,errors:ie,isDebugMode:t,isUnder16:me,showGdpr:!0,step:V,stepTotal:8,setValue:le,trigger:ce}),8===V&&!L&&(0,S.jsx)(f.A,{isOnline:!1,getValues:oe,isEarlyBird:ue,conferenceData:v.p,setTotal:Y,setPaypalFee:O,showInfo:!L,workshops:G,registrationTypes:J,paymentMethods:Z,watch:de}),(0,S.jsx)("div",{className:"mt-auto pt-3",children:(0,S.jsxs)("div",{className:"d-flex gap-3 justify-content-end",children:[V>1&&(0,S.jsxs)("button",{className:"btn btn-outline-primary fw-bolder d-inline-flex align-items-center gap-2",type:"button",onClick:()=>R(V-1),children:[(0,S.jsx)($.SnO,{style:{strokeWidth:"110px"}})," Back"]}),V<8&&(0,S.jsxs)("button",{className:"btn btn-outline-primary fw-bolder d-inline-flex align-items-center gap-2",type:"button",onClick:async()=>{await ce()&&R(V+1)},children:["Continue ",(0,S.jsx)($.dH8,{style:{strokeWidth:"110px"}})]}),8===V&&(0,S.jsx)("button",{className:"btn btn-primary fw-bolder",type:"submit",children:"Submit"})]})})]})]}):(0,S.jsx)(b.A,{title:"Register Onsite",children:"Come back soon…"})}},9066:(e,t,s)=>{s.d(t,{A:()=>a});const a={root:"index-module__root--arE76","is-admin":"index-module__is-admin--SeEAz",warning:"index-module__warning--GHhh2"}}}]);