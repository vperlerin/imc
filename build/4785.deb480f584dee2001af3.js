"use strict";(self.webpackChunkimc2025=self.webpackChunkimc2025||[]).push([[4785],{7647:(e,t,n)=>{n.d(t,{A:()=>Y});const s="index-module__pageContain--r6_E2",i="index-module__maxW--pHIfi";var a=n(6942),r=n.n(a),o=n(3464);const l="index-module__header--RVFFD",c="index-module__title--gLVc5";var d=n(4157);const m="300px",u="index-module__menuBtn--iHux0",p="index-module__menuCloseBtn--jCTip",h="index-module__menuIcon--i9Mwv",x="index-module__swipeWrap--a2OL4",b="index-module__menuOpenOverlay--caMms",g="index-module__menu--veCcg",f="index-module__active--EYt3Y",v="index-module__footer--O9Npd",_="index-module__menuItem--eqnJw",y="index-module__menuItemTitle--O6gep",w="index-module__active--Hl_ax",j="index-module__caret--U_US2",k="index-module__rotate--pnUGY",N="index-module__menuItemsHolder--aPOed";var A=n(6540),S=n(4848);const L=A.forwardRef(((e,t)=>{let{children:n,className:s,goTo:i=null,isLinkActive:a,title:o,url:l=null}=e;const[c,d]=(0,A.useState)(a),[m,u]=(0,A.useState)("0px"),p=(0,A.useRef)(null);(0,A.useEffect)((()=>{n&&u(c?`${p.current.scrollHeight}px`:"0px")}),[n,c,p]);const h=e=>(0,S.jsx)("div",{className:r()(e.className,c&&k),children:(0,S.jsx)("svg",{viewBox:"0 0 320 512",xmlns:"http://www.w3.org/2000/svg",children:(0,S.jsx)("path",{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z",fill:e.fill})})});return(0,S.jsxs)("div",{className:r()(_,"d-flex flex-column",s),ref:t,children:[(0,S.jsxs)("a",{className:r()(y,"d-flex justify-content-between w-100 align-items-center px-3",a&&w),href:l||void 0,onClick:e=>{e.preventDefault(),n?d(!c):i&&l&&i(l)},children:[(0,S.jsx)("span",{className:"d-flex align-items-center",children:(0,S.jsx)("b",{children:o})}),n&&(0,S.jsx)(h,{className:j})]}),n&&(0,S.jsx)("div",{className:N,ref:p,style:n&&{maxHeight:`${m}`},children:n})]})}));var M=n(8321),C=n(8983),D=n(1448),$=n(7767),E=n(4976);const I=[{title:"Dashboard",link:"/admin/dashboard"},{title:"Participants",link:"/admin/participants",subLinks:[{title:"Onsite",link:"/admin/participants/onsite"},{title:"Online",link:"/admin/participants/online"},{title:"Workshops",link:"/admin/participants/workshops"}]},{title:"Contributions",link:"/admin/contributions",subLinks:[{title:"Talks",link:"/admin/contributions/talks"},{title:"Posters",link:"/admin/contributions/posters"}]},{title:"Accomodations",link:"/admin/accomodations"},{title:"Export",link:"/admin/export"}];var V=n(1280),T=n(1083);const O=parseInt(m,10)||250,z=e=>{let{cd:t}=e;const[n,s]=(0,A.useState)(!1),[i,a]=(0,A.useState)(!0),o=(0,D.wA)(),l=(0,$.zy)(),c=(0,$.Zp)(),[m,_]=(0,M.useSpring)((()=>({right:-O,config:{tension:350,friction:30}})));(0,A.useEffect)((()=>(n?(a(!1),_.start({right:0}),document.body.classList.add("overflow-hidden"),document.documentElement.classList.add("overflow-hidden")):(_.start({right:-O,onRest:()=>a(!0)}),document.body.classList.remove("overflow-hidden"),document.documentElement.classList.remove("overflow-hidden")),()=>{document.body.classList.remove("overflow-hidden"),document.documentElement.classList.remove("overflow-hidden")})),[n,_]),(0,A.useEffect)((()=>{const e=()=>{s(!1)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]);const y=()=>{s((e=>!e))},w=e=>{c(e),y()};return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("button",{className:u,onClick:y,children:(0,S.jsx)(d.RAm,{className:h})}),!i&&(0,S.jsx)("div",{className:r()(b),onClick:y,onMouseDown:V._v,onTouchStart:V._v}),(0,S.jsx)(M.animated.div,{className:r()(x),style:m,children:(0,S.jsxs)("div",{className:r()(g,"d-flex flex-column h-100"),children:[(0,S.jsx)("button",{className:p,onClick:y,children:(0,S.jsx)(d.ipV,{className:h})}),(0,S.jsxs)("div",{className:"mb-3",children:[(0,S.jsxs)("div",{className:"m-3 text-center",children:[(0,S.jsxs)("h4",{className:"fw-bolder m-0",children:["IMC ",t.year]}),(0,S.jsx)("small",{className:"m-0",children:"ADMIN AREA"})]}),I.map((e=>{const t=l.pathname.startsWith(e.link)||e.subLinks&&e.subLinks.some((e=>l.pathname.startsWith(e.link)));if(!e.hideFromMenu)return(0,S.jsx)(L,{className:"py-2",isLinkActive:t,goTo:w,title:e.title,url:e.link,children:e.subLinks&&(0,S.jsx)(S.Fragment,{children:e.subLinks.map((e=>{const t=l.pathname===e.link;return(0,S.jsx)(E.N_,{"aria-label":e.title,onClick:y,to:e.link,className:r()(t&&f),title:e.title,children:e.title},e.link)}))})},e.link)}))]}),(0,S.jsx)("div",{className:r()(v,"mt-auto"),children:(0,S.jsxs)("div",{className:"d-flex flex-column justify-content-center mb-3 p-3 gap-2 px-4",children:[(0,S.jsx)("button",{"aria-label":"Public site",className:"btn btn-outline-success px-3 fw-bolder",onClick:()=>w("/"),title:"Public site",children:"Public site"}),(0,S.jsx)("button",{"aria-label":"Logout",className:"btn btn-outline-danger px-3 fw-bolder",onClick:async()=>{await T.A.get("https://imc2025.imo.net/php/auth/logout.php",{withCredentials:!0}),o(C.I2.logout()),localStorage.removeItem("session"),c("/")},title:"Logout",children:"Logout"})]})})]})})]})};var P=n(7762);const W=()=>{const e=`${P.p.name} ${P.p.year}`;return(0,S.jsxs)("div",{className:"d-flex align-items-center justify-content-between border-bottom",children:[(0,S.jsx)(z,{cd:P.p}),(0,S.jsx)("nav",{className:"p-0 flex-wrap","aria-label":"Main navigation",children:(0,S.jsx)("div",{className:r()(l,"d-flex flex-row flew-wrap px-2 mb-1 justify-content-between"),children:(0,S.jsxs)(E.N_,{"aria-label":"Admin",className:r()("d-flex align-items-center text-dark text-decoration-none gap-2",c),to:"/admin/dashboard",title:"Admin",children:[(0,S.jsx)("img",{src:o,alt:e,className:"rounded-circle border border-2 p-1"}),(0,S.jsxs)("div",{className:"d-flex flex-column",children:[(0,S.jsxs)("h1",{className:"m-0 fw-bolder",children:[P.p.name," ",P.p.year]}),(0,S.jsx)("h2",{className:"m-0 d-none d-md-block",children:"ADMIN AREA"})]})]})})})]})};var q=n(5902),F=n(1351);const R="breadcrumb-module__nav--atkeN",U=e=>{let{links:t=[]}=e;return(0,S.jsx)("nav",{"aria-label":"breadcrumb",className:R,children:(0,S.jsxs)("ol",{className:r()("breadcrumb"),children:[(0,S.jsx)("li",{className:"breadcrumb-item lh-0",children:(0,S.jsx)(E.N_,{to:"/admin/dashboard",children:(0,S.jsx)(F.M14,{className:"me-1"})})}),t.map(((e,n)=>(0,S.jsx)("li",{className:r()("breadcrumb-item",{active:n===t.length-1}),"aria-current":n===t.length-1?"page":void 0,children:n===t.length-1?e.name:(0,S.jsx)(E.N_,{to:e.url,children:e.name})},n)))]})})},Y=e=>{let{breadcrumb:t=[],title:n="",rightContent:a,children:o,isMaxWidth:l=!1}=e;const c=n?`${n} | ${P.p.name_display} ${P.p.year}`:`${P.p.name_display} ${P.p.year}`;return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(q.mg,{children:[(0,S.jsx)("title",{children:c}),(0,S.jsx)("meta",{name:"robots",content:"noindex"})]}),(0,S.jsxs)("div",{className:r()(s,"position-relative"),children:[(0,S.jsx)(W,{}),(0,S.jsxs)("div",{className:"d-flex flex-row",children:[(0,S.jsx)(z,{cd:P.p}),(0,S.jsxs)("div",{className:"mx-md-4 my-3 h-100 flex-grow-1 d-flex flex-column px-3 px-md-0",children:[0!==t.length&&(0,S.jsx)(U,{links:t}),(0,S.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[n&&(0,S.jsx)("h2",{children:n}),a&&(0,S.jsx)("div",{children:a})]}),(0,S.jsx)("div",{className:r()(l&&i),children:o})]})]})]})]})}},2325:(e,t,n)=>{n.r(t),n.d(t,{default:()=>S});var s=n(6942),i=n.n(s);const a="tabs-module__tab--ed4Qs",r="tabs-module__active--frwOf",o="tabs-module__contentMxw--q4nV3";var l=n(1083),c=n(7647),d=n(6645),m=n(6540),u=n(2199),p=n(7767),h=n(9785),x=n(7762),b=n(4493),g=n(4972),f=n(476),v=n(3975),_=n(9156),y=n(5680),w=n(6538),j=n(5058),k=n(6827),N=n(1100),A=n(4848);const S=()=>{const{participantId:e,tab:t}=(0,p.g)(),[n,s]=(0,m.useState)(!1),[S,L]=(0,m.useState)(null),[M,C]=(0,m.useState)(null),[D,$]=(0,m.useState)(!1),[E,I]=(0,m.useState)(0),[V,T]=(0,m.useState)(0),[O,z]=(0,m.useState)([]),[P,W]=(0,m.useState)([]),q=t||"identity",F=(0,p.Zp)();(0,u.V)(D);const{workshops:R,paymentMethods:U,registrationTypes:Y,loading:B,sessions:H,error:Z}=(0,b.Q)(),{participant:J,loading:Q,error:X}=(0,g.D)(e,0,!0),{control:G,register:K,handleSubmit:ee,getValues:te,setValue:ne,formState:{errors:se},trigger:ie,watch:ae}=(0,h.mN)();(0,m.useEffect)((()=>{const e=ae((()=>{$(!0)}));return()=>e.unsubscribe()}),[ae]),(0,m.useEffect)((()=>{t||F(`/admin/participants/onsite/${e}/identity`,{replace:!0})}),[t,e,F]),(0,m.useEffect)((()=>{if(!J||0===H.length)return;const{participant:e,workshops:t,arrival:n,contributions:s,accommodation:i,extra_options:a}=J||{},{dob:r,...o}=e||{};if(r){const[e,t,n]=r.split("-");ne("dobDay",String(Number(n))),ne("dobMonth",String(Number(t))),ne("dobYear",e)}if(o&&Object.entries(o).forEach((e=>{let[t,n]=e;null!=n&&ne(t,n)})),t&&Array.isArray(t)){const e=t.map((e=>String(e.id)));ne("workshops",e)}if(n&&Object.entries(n).forEach((e=>{let[t,n]=e;null!=n&&ne(t,t.includes("hour")||t.includes("minute")?String(n).padStart(2,"0"):n)})),s&&Array.isArray(s)&&H.length>0){const e=s.filter((e=>"talk"===e.type)).map((e=>({...e}))),t=s.filter((e=>"poster"===e.type)).map((e=>({...e})));z(e),W(t),ne("talks",e),ne("posters",t),(e.length>0||t.length>0)&&ne("wantsToContribute","yes")}i?.registration_type_id&&ne("registration_type_id",String(i.registration_type_id)),a&&(ne("excursion",Boolean(a.excursion)),ne("buy_tshirt",Boolean(a.buy_tshirt)),ne("tshirt_size",a.tshirt_size||""))}),[J,H,ne,z,W]);const re="1"===J?.participant?.is_online,oe=[{url:"/admin/participants/"+(re?"online":"onsite"),name:re?"Online Participants":"Onsite Participants"},{url:`/admin/participants/${re?"online":"onsite"}/${e}/${q}`,name:`${J?.participant?.first_name?J.participant.first_name.charAt(0).toUpperCase()+J.participant.first_name.slice(1):"Participant"} \n        ${J?.participant?.last_name||""} - \n        ${q.charAt(0).toUpperCase()+q.slice(1)}`}],le=J&&U.length>0&&R.length>0&&Y.length>0,ce=B||Q||n||!le,de=X||Z||S,me=!!J?.participant?.admin_notes;return(0,A.jsxs)(c.A,{breadcrumb:oe,isMaxWidth:!0,children:[(0,A.jsxs)("div",{className:"position-relative fw-bolder",children:[ce&&(0,A.jsx)(d.A,{}),!ce&&de&&(0,A.jsx)("div",{className:"alert alert-danger",children:X||Z||S}),!J&&!ce&&(0,A.jsx)("div",{className:"alert alert-danger",children:"No participant data available for this ID - please try again."}),M&&!ce&&(0,A.jsx)("div",{className:"alert alert-success",children:M})]}),J&&le&&!ce&&(0,A.jsxs)("form",{onSubmit:ee((async t=>{s(!0),L(null),C(null);if(!await ie())return s(!1),void L("Please fill in all required fields.");if("1"===t.buy_tshirt&&!t.tshirt_size)return s(!1),void L("You must select a T-shirt size if you choose to buy one.");t.talks=O,t.posters=P;try{const n=await l.A.post(`https://imc2025.imo.net/php/admin/api/update_participant.php?id=${e}`,t,{headers:{"Content-Type":"application/json"}});if(!n.data.success)throw new Error(n.data.message||"Failed to update participant.");C("Participant updated successfully! The page will now reload to assure data integrity."),$(!1),setTimeout((()=>{window.location.reload()}),1e3)}catch(e){L(e.message)}finally{s(!1)}})),children:[(0,A.jsx)("ul",{className:i()("nav nav-tabs mb-3 mt-2",a,"flex-column flex-sm-row"),children:[{key:"identity",label:"Identity"},{key:"workshops",label:"Workshops"},{key:"arrival",label:"Arrival"},{key:"contribution",label:"Contribution"},{key:"accommodation",label:"Accommodation"},{key:"extras",label:"Extras"},{key:"comments",label:"Comments"},{key:"summary",label:"Summary"},{key:"admin_notes",label:"Marc's notes"}].map((t=>{let{key:n,label:s}=t;return(0,A.jsx)("li",{className:"nav-item",children:(0,A.jsxs)("a",{className:i()("nav-link",q===n&&r,"admin_notes"===n&&"position-relative"),href:`/admin/participants/onsite/${e}/${n}`,onClick:t=>{t.preventDefault(),F(`/admin/participants/onsite/${e}/${n}`)},children:[s,me&&"admin_notes"===n&&(0,A.jsx)("span",{className:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger",children:"!"})]})},n)}))}),(0,A.jsxs)("div",{className:i()("tab-content mx-auto",o),children:["identity"===t&&(0,A.jsx)(f.A,{isAdmin:!0,register:K,errors:se,setValue:ne,trigger:ie}),"workshops"===t&&(0,A.jsx)(v.A,{isAdmin:!0,conferenceData:x.p,register:K,errors:se,setValue:ne,trigger:ie,watch:ae,workshops:R}),"arrival"===t&&(0,A.jsx)(_.A,{isAdmin:!0,conferenceData:x.p,register:K,errors:se,setValue:ne,trigger:ie}),"contribution"===t&&(0,A.jsx)(y.A,{isAdmin:!0,conferenceData:x.p,control:G,register:K,errors:se,getValues:te,setValue:ne,watch:ae,trigger:ie,sessions:H}),"accommodation"===t&&(0,A.jsx)(w.A,{isAdmin:!0,conferenceData:x.p,control:G,register:K,errors:se,paymentMethods:U,setValue:ne,registrationTypes:Y,trigger:ie}),"extras"===t&&(0,A.jsx)(j.A,{isAdmin:!0,conferenceData:x.p,register:K,errors:se,setValue:ne,trigger:ie,watch:ae,control:G}),"comments"===t&&(0,A.jsx)(k.A,{isAdmin:!0,register:K,errors:se,setValue:ne,trigger:ie}),"summary"===t&&le&&(0,A.jsx)(N.A,{isAdmin:!0,isEarlyBird:J?.participant.is_early_bird,conferenceData:x.p,getValues:te,setValue:ne,setTotal:I,setPaypalFee:T,workshops:R,registrationTypes:Y,paymentMethods:U,watch:ae}),"admin_notes"===t&&(0,A.jsxs)("div",{className:"mb-3",children:[(0,A.jsx)("label",{htmlFor:"admin_notes",className:"form-label fw-bold",children:"Admin Notes"}),(0,A.jsx)("textarea",{id:"admin_notes",className:"form-control",placeholder:"Enter your admin notes here",rows:6,...K("admin_notes")}),se.admin_notes&&(0,A.jsx)("div",{className:"text-danger mt-1",children:se.admin_notes.message})]}),(0,A.jsx)("div",{className:"mt-4 d-flex justify-content-end",children:(0,A.jsx)("button",{type:"submit",className:"btn btn-outline-primary fw-bolder",disabled:n,children:n?"Saving...":"Save Changes"})})]})]})]})}},7762:(e,t,n)=>{n.d(t,{p:()=>s});const s=JSON.parse('{"year":2025,"num":"44th","welcome":"Welkom!","thank_you":"Bedankt!","name":"IMC","name_display":"International Meteor Conference","dates":{"start":"2025-09-18","end":"2025-09-21"},"location":"Soest, the Netherlands","consulat":"Dutch consulate","deadlines":{"reg":"2025-07-15","paper":"2025-10-31","full_reimbursement_before":"2025-05-01","half_reimbursement_before":"2025-07-15","early_birds":"2025-05-01"},"poster_dim":"A1 size (59.4cm x 84.1cm / 23.4″ x 33.1″)","poster_print":{"desc":"Maximum size A1 (59.4cm x 84.1cm / 23.4″ x 33.1″), uploaded in PDF, deadline for sending September 1.","price":35,"size":"A1 size (59.4cm x 84.1cm / 23.4″ x 33.1″)"},"sessions":["Video meteor work","Radio meteor work","Visual meteor work","Meteor physics and dynamics","Meteor stream analyses and modelling","Meteor related software and hardware","Ongoing meteor work","Miscellaneous"],"costs":{"after_early_birds":30,"admin":"15€","online":20,"rooms":[{"price":250,"description":"Quadruple room in the IMC host","number":68,"type":"quadruple"},{"price":350,"description":"Double room in the IMC host","number":12,"type":"double"},{"price":500,"description":"Single room in the IMC host","number":8,"type":"single"},{"price":200,"description":"No accommodation","type":"no"}],"tshirts":{"models":["men","women"],"sizes":["S","M","L","XL","XXL"],"price":15},"printed_proceedings":20},"co_organizer":[{"abbr":"IMO","name":"International meteor organization","website":"https://imo.net"},{"abbr":"WGM","name":"KNVWS Meteor Section","website":"https://werkgroepmeteoren.nl/english"}],"workshops":[{"title":"Spectroscopy Workshop","date":"2025-09-18","period":"09:30 to 12:30 CEST","cost":22.5,"description":"including coffee break and lunch","email_to":{"name":"Joe Zender","email":"joe.zender@esa.int"}},{"title":"Radio Workshop","date":"2025-09-17","period":"09:30 to 17:00 CEST","cost":26.5,"cost_online":5,"description":"including coffee break and lunch","email_to":{"name":"Hervé Lamy","email":"herve.lamy@aeronomie.be"}}],"contact":[{"q":"a question about the website or a technical difficulty","email":"vperlerin@gmail.com","name":"V. Perlerin"},{"q":"a question about the conference or accommodation","email":"imc2025@imo.net","name":"IMC 2025 Team"},{"q":"a question about payment or your registration","email":"marc.gyssens@uhasselt.be","name":"IMO Treasuer"},{"q":"a question about any other topic","email":"imc2025@imo.net","name":"IMC 2025 Team"}]}')},2199:(e,t,n)=>{n.d(t,{V:()=>a});var s=n(6540),i=n(7767);const a=e=>{const t=(0,i.Zp)(),n=(0,i.zy)();(0,s.useEffect)((()=>{const t=t=>{e&&(t.preventDefault(),t.returnValue="You have unsaved changes. Do you really want to leave?")};return window.addEventListener("beforeunload",t),()=>{window.removeEventListener("beforeunload",t)}}),[e]),(0,s.useEffect)((()=>{const s=s=>{if(e){window.confirm("You have unsaved changes. Do you really want to leave?")||(s.preventDefault(),t(n.pathname,{replace:!0}))}};return window.addEventListener("popstate",s),()=>{window.removeEventListener("popstate",s)}}),[e,t,n.pathname])}},5846:(e,t,n)=>{n.d(t,{Ai:()=>r,Lu:()=>a,p6:()=>i});const s=e=>{if(e>=11&&e<=13)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},i=(e,t)=>{const n=new Date(e),i=new Date(t),a=n.toLocaleString("en-US",{month:"long"}),r=n.getDate(),o=i.getDate();return`${a} ${r}${s(r)} - ${o}${s(o)}`},a=function(e){return function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=new Date(e),r=a.getDate(),o=a.toLocaleString("en-US",{month:"long"}),l=a.toLocaleString("en-US",{weekday:"long"}),c=a.getFullYear();return`${t?l+", ":""}${r}${s(r)}${n?" "+o:""}${i?" "+c:""}`}(e,!0,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2])},r=function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const i=new Date(e);return i.setDate(i.getDate()+t),a(i.toISOString(),n,s)}},1280:(e,t,n)=>{n.d(t,{_v:()=>s});const s=e=>{e&&e.stopPropagation()}},3318:(e,t,n)=>{n.d(t,{L:()=>s});const s=function(e){let{interval:t=100,retries:n=14}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(((i,a)=>{e().then(i).catch((r=>{setTimeout((()=>{n?s(e,{interval:1.5*t,retries:n-1}).then(i,a):a(r)}),t)}))}))}},3464:(e,t,n)=>{e.exports=n.p+"702c5653d2360537e78f.svg"}}]);