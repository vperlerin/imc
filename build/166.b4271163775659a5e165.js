"use strict";(self.webpackChunkimc2025=self.webpackChunkimc2025||[]).push([[166],{5595:(e,s,a)=>{a.r(s),a.d(s,{default:()=>x});var l=a(1083),t=a(6540),o=a(4107),r=a(1448),n=a(7767),d=a(4976),i=a(8983),m=a(6942),c=a.n(m);const u="index-module__login--Jr3_l";var p=a(819),h=a(4848);const f=()=>{const[e,s]=(0,t.useState)(""),[a,m]=(0,t.useState)(!1),[f,b]=(0,t.useState)(""),[x,_]=(0,t.useState)(null),g=(0,r.wA)(),w=(0,n.Zp)();return(0,h.jsxs)("div",{className:c()(u,"flex-grow-1 d-flex h-100 align-items-center justify-content-center position-relative"),children:[a&&(0,h.jsx)(o.A,{}),(0,h.jsxs)("form",{onSubmit:async s=>{s.preventDefault(),m(!0);try{const s=await l.A.post("https://imc2025.imo.net/php/login.php",{email:e,password:f},{headers:{"Content-Type":"application/json"},withCredentials:!0});if(!s.data.success)throw new Error(s.data.message||"Login failed");g(i.I2.setAuth(s.data.user)),s.data.user.isAdmin?w("/admin"):w("/")}catch(e){_(e.message)}finally{m(!1)}},className:c()(p.A.xSmallW,"w-100 border p-3 rounded-2"),children:[x&&(0,h.jsx)("div",{className:"alert alert-danger",children:x}),(0,h.jsxs)("div",{className:"mb-3",children:[(0,h.jsx)("label",{htmlFor:"emailInput",className:"form-label",children:"Email address"}),(0,h.jsx)("input",{autoFocus:!0,disabled:a,type:"email",className:"form-control",id:"emailInput","aria-describedby":"emailHelp",value:e,onChange:e=>s(e.target.value),required:!0})]}),(0,h.jsxs)("div",{className:"mb-3",children:[(0,h.jsx)("label",{htmlFor:"passwordInput",className:"form-label",children:"Password"}),(0,h.jsx)("input",{disabled:a,type:"password",className:"form-control",id:"passwordInput",value:f,onChange:e=>b(e.target.value),required:!0})]}),(0,h.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,h.jsx)(d.N_,{to:"/forgot-password",className:"text-decoration-none",children:"Forgot your password?"}),(0,h.jsx)("button",{disabled:a,type:"submit",className:"btn btn-outline-primary fw-bolder",children:" Login"})]})]})]})};var b=a(7450);const x=()=>(0,h.jsx)(b.A,{showRegBtn:!1,children:(0,h.jsx)(f,{})})},819:(e,s,a)=>{a.d(s,{A:()=>l});const l={root:"form-module__root--TEo3k",xSmallW:"form-module__xSmallW--P4BEz",smallW:"form-module__smallW--lV3G2",mdAuto:"form-module__mdAuto--nAWF4",md50:"form-module__md50--tAHPE",balance:"form-module__balance--IEzdN",deleteBtn:"form-module__deleteBtn--ynTR8",gdpr:"form-module__gdpr--VLq_3"}}}]);