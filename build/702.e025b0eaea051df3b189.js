"use strict";(self.webpackChunkimc2025=self.webpackChunkimc2025||[]).push([[702],{6831:(e,s,a)=>{a.r(s),a.d(s,{default:()=>k});var r=a(4157),t=a(6538),l=a(6942),i=a.n(l),n=a(8232),o=a(6540),c=a(2834),d=a(5846),u=a(4848);const m=Array.from({length:24},((e,s)=>s.toString().padStart(2,"0"))),h=Array.from({length:6},((e,s)=>(10*s).toString().padStart(2,"0"))),p=e=>{let{conferenceData:s,register:a,errors:r,isDebugMode:t=!1,step:l,stepTotal:p,trigger:x,setValue:j,initialData:b}=e;const v=((e,s)=>{const a=[];let r=new Date(e);const t=new Date(s);for(;r<=t;)a.push((0,d.Lu)(r.toISOString().split("T")[0],!1,!1)),r.setDate(r.getDate()+1);return a})(s.dates.start,s.dates.end);return(0,o.useEffect)((()=>{b&&Object.keys(b).forEach((e=>{b[e]&&j(e,b[e])}))}),[b,j]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("h4",{className:"mb-3 border-bottom pb-2",children:[(0,u.jsx)(c.A,{step:l,stepTotal:p}),"Personal Details"]}),(0,u.jsxs)("div",{className:i()(n.A.smallW,"mx-auto position-relative"),children:[t&&(0,u.jsx)("button",{type:"button",className:"position-absolute top-0 end-0 btn btn-secondary",onClick:()=>{j("arrival_date",v[0]),j("arrival_hour","14"),j("arrival_minute","30"),j("departure_date",v[v.length-1]),j("departure_hour","12"),j("departure_minute","00"),j("travelling","train"),j("travelling_details","I will be alone in my train."),x()},children:"Fill Test Data"}),(0,u.jsxs)("p",{className:"fw-bolder",children:["If you plan to arrive before ",v[0],", you must arrange your own accommodation."]}),(0,u.jsxs)("div",{className:n.A.smallW,children:[(0,u.jsxs)("div",{className:"mb-3 row",children:[(0,u.jsx)("label",{className:"col-sm-2 col-form-label fw-bold",children:"Arrival"}),(0,u.jsxs)("div",{className:"col-sm-3",children:[(0,u.jsxs)("select",{className:i()("form-select",r.arrival_date&&"is-invalid"),...a("arrival_date",{required:"Arrival date is required"}),onBlur:()=>x("arrival_date"),children:[(0,u.jsx)("option",{value:"",children:"Select Arrival Date"}),v.map((e=>(0,u.jsx)("option",{value:e,children:e},e)))]}),r.arrival_date&&(0,u.jsx)("p",{className:"text-danger mb-0",children:(0,u.jsx)("small",{children:r.arrival_date.message})})]}),(0,u.jsx)("div",{className:"col-sm-2",children:(0,u.jsxs)("select",{className:i()("form-select",r.arrival_hour&&"is-invalid"),...a("arrival_hour",{required:"Hour is required"}),onBlur:()=>x("arrival_hour"),children:[(0,u.jsx)("option",{value:"",children:"Hour"}),m.map((e=>(0,u.jsx)("option",{value:e,children:e},e)))]})}),(0,u.jsx)("div",{className:"col-sm-2",children:(0,u.jsxs)("select",{className:i()("form-select",r.arrival_minute&&"is-invalid"),...a("arrival_minute",{required:"Minute is required"}),onBlur:()=>x("arrival_minute"),children:[(0,u.jsx)("option",{value:"",children:"Min"}),h.map((e=>(0,u.jsx)("option",{value:e,children:e},e)))]})})]}),(0,u.jsxs)("div",{className:"mb-3 row",children:[(0,u.jsx)("label",{className:"col-sm-2 col-form-label fw-bold",children:"Departure"}),(0,u.jsxs)("div",{className:"col-sm-3",children:[(0,u.jsxs)("select",{className:i()("form-select",r.departure_date&&"is-invalid"),...a("departure_date",{required:"Departure date is required"}),onBlur:()=>x("departure_date"),children:[(0,u.jsx)("option",{value:"",children:"Select Departure Date"}),v.map((e=>(0,u.jsx)("option",{value:e,children:e},e)))]}),r.departure_date&&(0,u.jsx)("p",{className:"text-danger mb-0",children:(0,u.jsx)("small",{children:r.departure_date.message})})]}),(0,u.jsx)("div",{className:"col-sm-2",children:(0,u.jsxs)("select",{className:i()("form-select",r.departure_hour&&"is-invalid"),...a("departure_hour",{required:"Hour is required"}),onBlur:()=>x("departure_hour"),children:[(0,u.jsx)("option",{value:"",children:"Hour"}),m.map((e=>(0,u.jsx)("option",{value:e,children:e},e)))]})}),(0,u.jsx)("div",{className:"col-sm-2",children:(0,u.jsxs)("select",{className:i()("form-select",r.departure_minute&&"is-invalid"),...a("departure_minute",{required:"Minute is required"}),onBlur:()=>x("departure_minute"),children:[(0,u.jsx)("option",{value:"",children:"Min"}),h.map((e=>(0,u.jsx)("option",{value:e,children:e},e)))]})})]}),(0,u.jsxs)("div",{className:"mb-3 row",children:[(0,u.jsx)("label",{className:"col-sm-2 col-form-label fw-bold",children:"Travelling by "}),(0,u.jsxs)("div",{className:"col-sm-10",children:[(0,u.jsxs)("select",{className:i()("form-select",r.travelling&&"is-invalid",n.A.mdAuto),...a("travelling",{required:"Mode of Transportation is required"}),onBlur:()=>x("travelling"),children:[(0,u.jsx)("option",{value:"",children:"Select a Mode of Transportation"}),(0,u.jsx)("option",{value:"car",children:"Car"}),(0,u.jsx)("option",{value:"bus",children:"Bus"}),(0,u.jsx)("option",{value:"plane",children:"Plane"}),(0,u.jsx)("option",{value:"train",children:"Train"}),(0,u.jsx)("option",{value:"local",children:"Local Resident"}),(0,u.jsx)("option",{value:"undecided",children:"Not yet decided"})]}),r.travelling&&(0,u.jsx)("p",{className:"text-danger mb-0",children:(0,u.jsx)("small",{children:r.travelling.message})})]})]}),(0,u.jsxs)("div",{className:"mb-3 row",children:[(0,u.jsx)("label",{className:"col-sm-2 col-form-label fw-bold",children:"Details"}),(0,u.jsxs)("div",{className:"col-sm-10",children:[(0,u.jsx)("textarea",{className:i()("form-control",r.travelling_details&&"is-invalid"),placeholder:"Travelling Details...",...a("travelling_details"),onBlur:()=>x("travelling_details")}),(0,u.jsx)("div",{className:"form-text",children:"If you travel in group, indicate with whom you share your journey. If you travel by bus, plane or train indicate which bus, plane (date, flight number, airport) or train. Indicate this for both arrival and departure."}),r.travelling_details&&(0,u.jsx)("p",{className:"text-danger mb-0",children:(0,u.jsx)("small",{children:r.travelling_details.message})})]})]})]})]})]})};var x=a(6827),j=a(5680);const b=e=>{let{conferenceData:s,register:a,errors:r,isDebugMode:t=!1,step:l,stepTotal:d,trigger:m,setValue:h,initialData:p}=e;const[x,j]=(0,o.useState)(null),b=s.costs.tshirts.models.flatMap((e=>s.costs.tshirts.sizes.map((s=>`${e.charAt(0).toUpperCase()+e.slice(1)} ${s}`))));(0,o.useEffect)((()=>{p&&Object.keys(p).forEach((e=>{p[e]&&h(e,p[e])}))}),[p,h]);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("h4",{className:"mb-3 border-bottom pb-2",children:[(0,u.jsx)(c.A,{step:l,stepTotal:d}),"Extras"]}),(0,u.jsxs)("div",{className:i()(n.A.smallW,"mx-auto position-relative"),children:[t&&(0,u.jsx)("button",{type:"button",className:"position-absolute top-0 end-0 btn btn-secondary",onClick:()=>{h("excursion","yes"),h("buy_tshirt","yes"),h("tshirt_size","Men L"),j(!0),m()},children:"Fill Test Data"}),(0,u.jsxs)("div",{className:"mb-4",children:[(0,u.jsx)("label",{className:"fw-bold mb-2",children:"Do you want to participate in the excursion (at no extra cost)?"}),(0,u.jsx)("div",{className:"d-flex flex-column gap-2",children:["yes","no"].map((e=>(0,u.jsxs)("div",{className:"form-check",children:[(0,u.jsx)("input",{type:"radio",id:`excursion-${e}`,className:i()("form-check-input",{"is-invalid":r.excursion}),value:e,...a("excursion",{required:"Please select an option"})}),(0,u.jsx)("label",{className:"form-check-label",htmlFor:`excursion-${e}`,children:e.charAt(0).toUpperCase()+e.slice(1)})]},e)))}),r.excursion&&(0,u.jsx)("p",{className:"text-danger",children:(0,u.jsx)("small",{children:r.excursion.message})})]}),(0,u.jsxs)("div",{className:"mb-3",children:[(0,u.jsxs)("label",{className:"fw-bold mb-2",children:["Do you want to buy the official IMC",s.year," T-Shirt for ",s.costs.tshirts.price,"€?"]}),(0,u.jsx)("div",{className:"d-flex flex-column gap-2",children:["yes","no"].map((e=>(0,u.jsxs)("div",{className:"form-check",children:[(0,u.jsx)("input",{type:"radio",id:`tshirt-${e}`,className:i()("form-check-input",{"is-invalid":r.buy_tshirt}),value:e,...a("buy_tshirt",{required:"Please select an option"}),onChange:e=>j("yes"===e.target.value)}),(0,u.jsx)("label",{className:"form-check-label",htmlFor:`tshirt-${e}`,children:e.charAt(0).toUpperCase()+e.slice(1)})]},e)))}),r.buy_tshirt&&(0,u.jsx)("p",{className:"text-danger",children:(0,u.jsx)("small",{children:r.buy_tshirt.message})})]}),x&&(0,u.jsxs)("div",{className:"mb-4",children:[(0,u.jsx)("label",{className:"fw-bold mb-2",children:"Select your T-Shirt size"}),(0,u.jsxs)("select",{className:i()("form-select",{"is-invalid":r.tshirt_size}),...a("tshirt_size",{required:"Please select a T-Shirt size"}),children:[(0,u.jsx)("option",{value:"",children:"Select size"}),b.map((e=>(0,u.jsx)("option",{value:e,children:e},e)))]}),r.tshirt_size&&(0,u.jsx)("p",{className:"text-danger",children:(0,u.jsx)("small",{children:r.tshirt_size.message})})]})]})]})};var v=a(476),g=a(6645),f=a(5865),N=a(4668),y=a(3975),_=a(7762),D=a(9785),w=a(7767),S=a(1083);const k=()=>{const[e,s]=(0,o.useState)(1),[a,l]=(0,o.useState)(!1),[i,n]=(0,o.useState)(null),[c,d]=(0,o.useState)(null),m=(0,w.zy)(),h="1"===new URLSearchParams(m.search).get("debug"),{control:k,register:A,handleSubmit:T,formState:{errors:M},getValues:q,setValue:C,trigger:B,watch:V}=(0,D.mN)(),z=null,E=new Date<new Date(_.p.deadlines.early_birds);return h?(0,u.jsxs)(f.A,{title:"Register Onsite",children:[i&&(0,u.jsx)("div",{className:"alert alert-danger",children:i}),c&&(0,u.jsx)("div",{className:"alert alert-success",children:c}),(0,u.jsxs)("form",{onSubmit:T((async e=>{l(!0),n(null),d(null);try{const s="https://imc2025.imo.net/php/register.php",a={...e,is_early_bird:E.toString(),is_online:"false",talks:e.talks||[],posters:e.posters||[]},r=await S.A.post(s,a,{headers:{"Content-Type":"application/json"}});r.data.success?d("Registration successful!"):n(r.data.message||"Something went wrong.")}catch(e){n("Failed to submit the form. Please try again.")}finally{l(!1)}})),className:"d-flex flex-grow-1 flex-column position-relative",children:[a&&(0,u.jsx)(g.A,{}),(0,u.jsx)("input",{name:"is_early_bird",type:"hidden",value:E,...A("is_early_bird")}),(0,u.jsx)("input",{name:"is_online",type:"hidden",value:"false",...A("is_online")}),1===e&&(0,u.jsx)(v.A,{register:A,errors:M,isDebugMode:h,initialData:z,step:e,stepTotal:8,setValue:C,trigger:B}),2===e&&_.p?.workshops?.length>0&&(0,u.jsx)(y.A,{conferenceData:_.p,register:A,errors:M,isDebugMode:h,initialData:z,step:e,stepTotal:8,setValue:C,trigger:B,watch:V}),3===e&&(0,u.jsx)(p,{conferenceData:_.p,register:A,errors:M,isDebugMode:h,initialData:z,step:e,stepTotal:8,setValue:C,trigger:B}),4===e&&(0,u.jsx)(j.A,{conferenceData:_.p,control:k,register:A,isDebugMode:h,errors:M,step:e,stepTotal:8,setValue:C,trigger:B,watch:V,initialData:{talks:q("talks")||[],posters:q("posters")||[]}}),5===e&&(0,u.jsx)(t.A,{conferenceData:_.p,control:k,register:A,isDebugMode:h,initialData:z,isEarlyBird:E,errors:M,step:e,stepTotal:8,setValue:C,trigger:B}),6===e&&(0,u.jsx)(b,{conferenceData:_.p,register:A,errors:M,isDebugMode:h,initialData:z,step:e,stepTotal:8,setValue:C,trigger:B}),7===e&&(0,u.jsx)(x.A,{register:A,errors:M,isDebugMode:h,initialData:z,isUnder16,showGdpr:!0,step:e,stepTotal:8,setValue:C,trigger:B}),8===e&&(0,u.jsx)(N.A,{getValues:q,isEarlyBird:E,conferenceData:_.p}),(0,u.jsx)("div",{className:"mt-auto pt-3",children:(0,u.jsxs)("div",{className:"d-flex gap-3 justify-content-end",children:[e>1&&(0,u.jsxs)("button",{className:"btn btn-outline-primary fw-bolder d-inline-flex align-items-center gap-2",type:"button",onClick:()=>s(e-1),children:[(0,u.jsx)(r.SnO,{style:{strokeWidth:"110px"}})," Back"]}),e<8&&(0,u.jsxs)("button",{className:"btn btn-outline-primary fw-bolder d-inline-flex align-items-center gap-2",type:"button",onClick:async()=>{await B()&&s(e+1)},children:["Continue ",(0,u.jsx)(r.dH8,{style:{strokeWidth:"110px"}})]}),8===e&&(0,u.jsx)("button",{className:"btn btn-primary fw-bolder",type:"submit",children:"Submit"})]})})]})]}):(0,u.jsx)(f.A,{title:"Register Onsite",children:"Come back soon…"})}}}]);