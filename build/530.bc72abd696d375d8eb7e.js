"use strict";(self.webpackChunkimc2025=self.webpackChunkimc2025||[]).push([[530],{914:(e,s,a)=>{a.d(s,{Z:()=>l});var t=a(1083);const l=async e=>{let{subject:s,message:a,to:l,toName:o,fromName:r,replyTo:n,replyName:m,bcc:i=[],token:d=null}=e;try{return"success"===(await t.A.post("https://www.imo.net/members/api/imc_mailer_api/send_email",{subject:s,message:a,to:l,to_name:o,from_name:r,reply_to:n,reply_name:m,bcc:i,token:d},{headers:{"Content-Type":"application/json"}})).data.status?{success:!0,message:"Email sent successfully."}:{success:!1,message:"Failed to send email."}}catch(e){return{success:!1,message:"An error occurred while sending the email."}}}},967:(e,s,a)=>{a.r(s),a.d(s,{default:()=>f});var t=a(6942),l=a.n(t),o=a(111),r=a(8232),n=a(6645),m=a(6540),i=a(1083),d=a(914),c=a(4848);const u=()=>{const[e,s]=(0,m.useState)(!1),[a,t]=(0,m.useState)(null),[u,p]=(0,m.useState)(null),[f,h]=(0,m.useState)("");return(0,c.jsxs)("div",{className:l()(o.A.login,"flex-grow-1 d-flex h-100 align-items-center justify-content-center position-relative"),children:[e&&(0,c.jsx)(n.A,{}),(0,c.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),p(null),t(null),s(!0);try{const e=await i.A.post("https://imc2025.imo.net/php/auth/forgot_password.php",{email:f});if(e.data.success&&e.data.token&&e.data.email){(await(0,d.Z)({subject:"IMC 2025 Password Reset",message:`Click the link below to reset your password: <br>\n            <a href="https://imc2025.imo.net/reset-password?token=${e.data.token}">\n            Reset Password</a>`,to:e.data.email,toName:"IMC Participant",fromName:"IMC 2025",replyTo:"no-reply@imc2025.imo.net",replyName:"no-reply"})).success?t("Password reset email sent successfully."):p("Something went wrong. Impossible to send you an email for now. Please try again later.")}else p(e.data.message||"Something went wrong.")}catch(e){p(e.response?.data?.message||"Something went wrong. Please try again later.")}finally{s(!1),h("")}},className:l()(r.A.xSmallW,"w-100 border p-3 rounded-2"),children:[u&&(0,c.jsx)("div",{className:"alert alert-danger fw-bolder",children:u}),a&&(0,c.jsx)("div",{className:"alert alert-success fw-bolder",children:a}),(0,c.jsxs)("div",{className:"mb-3",children:[(0,c.jsx)("label",{htmlFor:"emailInput",className:"form-label",children:"Enter your email"}),(0,c.jsx)("input",{autoFocus:!0,disabled:e,type:"email",className:"form-control",id:"emailInput","aria-describedby":"emailHelp",value:f,onChange:e=>h(e.target.value),placeholder:"Your email",required:!0})]}),(0,c.jsx)("button",{disabled:e||!f.trim(),type:"submit",className:"btn btn-outline-primary fw-bolder",children:"Send reset link"})]})]})};var p=a(4567);const f=()=>(0,c.jsx)(p.A,{showRegBtn:!1,children:(0,c.jsx)(u,{})})},111:(e,s,a)=>{a.d(s,{A:()=>t});const t={login:"index-module__login--Jr3_l"}},8232:(e,s,a)=>{a.d(s,{A:()=>t});const t={root:"form-module__root--TEo3k","is-admin":"form-module__is-admin--CEfAJ",xSmallW:"form-module__xSmallW--P4BEz",smallW:"form-module__smallW--lV3G2",mdAuto:"form-module__mdAuto--nAWF4",md50:"form-module__md50--tAHPE",balance:"form-module__balance--IEzdN",deleteBtn:"form-module__deleteBtn--ynTR8",gdpr:"form-module__gdpr--VLq_3"}}}]);