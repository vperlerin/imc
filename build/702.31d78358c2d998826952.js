"use strict";(self.webpackChunkimc2025=self.webpackChunkimc2025||[]).push([[702],{6831:(e,s,a)=>{a.r(s),a.d(s,{default:()=>T});var t=a(4157),r=a(408),l=a(9066),i=a(6538),n=a(6942),o=a.n(n),c=a(8232),d=a(6540),u=a(2834),m=a(5846),p=a(4848);const h=Array.from({length:24},((e,s)=>s.toString().padStart(2,"0"))),x=Array.from({length:6},((e,s)=>(10*s).toString().padStart(2,"0"))),b=e=>{let{conferenceData:s,register:a,errors:t,isDebugMode:r=!1,step:l,stepTotal:i,trigger:n,setValue:b,initialData:g}=e;const j=(v=s.dates.start,f=s.dates.end,Array.from({length:(new Date(f)-new Date(v))/864e5+1},((e,s)=>{const a=new Date(v);return a.setDate(a.getDate()+s),{value:a.toISOString().split("T")[0],label:(0,m.Lu)(a.toISOString().split("T")[0],!1,!1)}})));var v,f;return(0,d.useEffect)((()=>{g&&Object.keys(g).forEach((e=>{g[e]&&b(e,g[e])}))}),[g,b]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("h4",{className:"mb-3 border-bottom pb-2",children:[(0,p.jsx)(u.A,{step:l,stepTotal:i}),"Travel Details"]}),(0,p.jsxs)("div",{className:o()(c.A.smallW,"mx-auto position-relative"),children:[r&&(0,p.jsx)("button",{type:"button",className:"position-absolute top-0 end-0 btn btn-secondary",onClick:()=>{b("arrival_date",j[0].value),b("arrival_hour","14"),b("arrival_minute","30"),b("departure_date",j[j.length-1].value),b("departure_hour","12"),b("departure_minute","00"),b("travelling","train"),b("travelling_details","I will be alone in my train."),n()},children:"Fill Test Data"}),(0,p.jsxs)("p",{className:"fw-bolder",children:["If you plan to arrive before ",j[0].label,", you must arrange your own accommodation."]}),(0,p.jsxs)("div",{className:c.A.smallW,children:[(0,p.jsxs)("div",{className:"mb-3 row align-items-center",children:[(0,p.jsx)("label",{className:"col-sm-3 col-form-label fw-bold",children:"Arrival"}),(0,p.jsxs)("div",{className:"col-sm-9 d-flex align-items-center gap-1",children:[(0,p.jsxs)("select",{className:o()("form-select me-2",t.arrival_date&&"is-invalid"),...a("arrival_date",{required:"Arrival date is required"}),onBlur:()=>n("arrival_date"),children:[(0,p.jsx)("option",{value:"",children:"Select Arrival Date"}),j.map((e=>{let{value:s,label:a}=e;return(0,p.jsx)("option",{value:s,children:a},s)}))]}),(0,p.jsxs)("select",{className:o()("form-select w-auto",t.arrival_hour&&"is-invalid"),...a("arrival_hour",{required:"Hour is required"}),onBlur:()=>n("arrival_hour"),children:[(0,p.jsx)("option",{value:"",children:"Hour"}),h.map((e=>(0,p.jsx)("option",{value:e,children:e},e)))]}),":",(0,p.jsxs)("select",{className:o()("form-select w-auto",t.arrival_minute&&"is-invalid"),...a("arrival_minute",{required:"Minute is required"}),onBlur:()=>n("arrival_minute"),children:[(0,p.jsx)("option",{value:"",children:"Min"}),x.map((e=>(0,p.jsx)("option",{value:e,children:e},e)))]})]}),t.arrival_date&&(0,p.jsx)("p",{className:"text-danger mb-0",children:(0,p.jsx)("small",{children:t.arrival_date.message})})]}),(0,p.jsxs)("div",{className:"mb-3 row align-items-center",children:[(0,p.jsx)("label",{className:"col-sm-3 col-form-label fw-bold",children:"Departure"}),(0,p.jsxs)("div",{className:"col-sm-9 d-flex align-items-center gap-1",children:[(0,p.jsxs)("select",{className:o()("form-select me-2",t.departure_date&&"is-invalid"),...a("departure_date",{required:"Departure date is required"}),onBlur:()=>n("departure_date"),children:[(0,p.jsx)("option",{value:"",children:"Select Departure Date"}),j.map((e=>{let{value:s,label:a}=e;return(0,p.jsx)("option",{value:s,children:a},s)}))]}),(0,p.jsxs)("select",{className:o()("form-select w-auto",t.departure_hour&&"is-invalid"),...a("departure_hour",{required:"Hour is required"}),onBlur:()=>n("departure_hour"),children:[(0,p.jsx)("option",{value:"",children:"Hour"}),h.map((e=>(0,p.jsx)("option",{value:e,children:e},e)))]}),":",(0,p.jsxs)("select",{className:o()("form-select w-auto",t.departure_minute&&"is-invalid"),...a("departure_minute",{required:"Minute is required"}),onBlur:()=>n("departure_minute"),children:[(0,p.jsx)("option",{value:"",children:"Min"}),x.map((e=>(0,p.jsx)("option",{value:e,children:e},e)))]})]}),t.departure_date&&(0,p.jsx)("p",{className:"text-danger mb-0",children:(0,p.jsx)("small",{children:t.departure_date.message})})]}),(0,p.jsxs)("div",{className:"mb-3 row",children:[(0,p.jsx)("label",{className:"col-sm-3 col-form-label fw-bold",children:"Travelling by "}),(0,p.jsxs)("div",{className:"col-sm-9",children:[(0,p.jsxs)("select",{className:o()("form-select",t.travelling&&"is-invalid",c.A.mdAuto),...a("travelling",{required:"Mode of Transportation is required"}),onBlur:()=>n("travelling"),children:[(0,p.jsx)("option",{value:"",children:"Select a Mode of Transportation"}),(0,p.jsx)("option",{value:"car",children:"Car"}),(0,p.jsx)("option",{value:"bus",children:"Bus"}),(0,p.jsx)("option",{value:"plane",children:"Plane"}),(0,p.jsx)("option",{value:"train",children:"Train"}),(0,p.jsx)("option",{value:"local",children:"Local Resident"}),(0,p.jsx)("option",{value:"undecided",children:"Not yet decided"})]}),t.travelling&&(0,p.jsx)("p",{className:"text-danger mb-0",children:(0,p.jsx)("small",{children:t.travelling.message})})]})]})]})]})]})};var g=a(6827),j=a(5680);const v=e=>{let{conferenceData:s,register:a,errors:t,isDebugMode:r=!1,step:l,stepTotal:i,trigger:n,setValue:m,initialData:h}=e;const[x,b]=(0,d.useState)(null),g=s.costs.tshirts.models.flatMap((e=>s.costs.tshirts.sizes.map((s=>`${e.charAt(0).toUpperCase()+e.slice(1)} ${s}`))));(0,d.useEffect)((()=>{h&&Object.keys(h).forEach((e=>{h[e]&&m(e,h[e])}))}),[h,m]);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("h4",{className:"mb-3 border-bottom pb-2",children:[(0,p.jsx)(u.A,{step:l,stepTotal:i}),"Extras"]}),(0,p.jsxs)("div",{className:o()(c.A.smallW,"mx-auto position-relative"),children:[r&&(0,p.jsx)("button",{type:"button",className:"position-absolute top-0 end-0 btn btn-secondary",onClick:()=>{m("excursion","yes"),m("buy_tshirt","yes"),m("tshirt_size","Men L"),b(!0),n()},children:"Fill Test Data"}),(0,p.jsxs)("div",{className:"mb-4",children:[(0,p.jsx)("label",{className:"fw-bold mb-2",children:"Do you want to participate in the excursion (at no extra cost)?"}),(0,p.jsx)("div",{className:"d-flex flex-column gap-2",children:["yes","no"].map((e=>(0,p.jsxs)("div",{className:"form-check",children:[(0,p.jsx)("input",{type:"radio",id:`excursion-${e}`,className:o()("form-check-input",{"is-invalid":t.excursion}),value:e,...a("excursion",{required:"Please select an option"})}),(0,p.jsx)("label",{className:"form-check-label",htmlFor:`excursion-${e}`,children:e.charAt(0).toUpperCase()+e.slice(1)})]},e)))}),t.excursion&&(0,p.jsx)("p",{className:"text-danger",children:(0,p.jsx)("small",{children:t.excursion.message})})]}),(0,p.jsxs)("div",{className:"mb-3",children:[(0,p.jsxs)("label",{className:"fw-bold mb-2",children:["Do you want to buy the official IMC",s.year," T-Shirt for ",s.costs.tshirts.price,"€?"]}),(0,p.jsx)("div",{className:"d-flex flex-column gap-2",children:["yes","no"].map((e=>(0,p.jsxs)("div",{className:"form-check",children:[(0,p.jsx)("input",{type:"radio",id:`tshirt-${e}`,className:o()("form-check-input",{"is-invalid":t.buy_tshirt}),value:e,...a("buy_tshirt",{required:"Please select an option"}),onChange:e=>b("yes"===e.target.value)}),(0,p.jsx)("label",{className:"form-check-label",htmlFor:`tshirt-${e}`,children:e.charAt(0).toUpperCase()+e.slice(1)})]},e)))}),t.buy_tshirt&&(0,p.jsx)("p",{className:"text-danger",children:(0,p.jsx)("small",{children:t.buy_tshirt.message})})]}),x&&(0,p.jsxs)("div",{className:"mb-4",children:[(0,p.jsx)("label",{className:"fw-bold mb-2",children:"Select your T-Shirt size"}),(0,p.jsxs)("select",{className:o()("form-select",{"is-invalid":t.tshirt_size}),...a("tshirt_size",{required:"Please select a T-Shirt size"}),children:[(0,p.jsx)("option",{value:"",children:"Select size"}),g.map((e=>(0,p.jsx)("option",{value:e,children:e},e)))]}),t.tshirt_size&&(0,p.jsx)("p",{className:"text-danger",children:(0,p.jsx)("small",{children:t.tshirt_size.message})})]})]})]})};var f=a(476),y=a(6645),_=a(4567),N=a(4668),w=a(3975),D=a(7762),S=a(9785),A=a(7767),k=a(1083);const T=()=>{const[e,s]=(0,d.useState)(1),[a,n]=(0,d.useState)(!1),[o,c]=(0,d.useState)(null),[u,h]=(0,d.useState)(null),[x,T]=(0,d.useState)(0),[M,q]=(0,d.useState)(0),C=(0,A.zy)(),F="1"===new URLSearchParams(C.search).get("debug"),{control:V,register:z,handleSubmit:B,formState:{errors:P},getValues:E,setValue:H,trigger:O,watch:$}=(0,S.mN)(),I=(e=>{if(!e)return null;const s=new Date(e),a=new Date;let t=a.getFullYear()-s.getFullYear();const r=a.getMonth()-s.getMonth();return(r<0||0===r&&a.getDate()<s.getDate())&&t--,t})($("dob")),L=null!==I&&I<16,R=null,U=new Date<new Date(D.p.deadlines.early_birds);return F?(0,p.jsxs)(_.A,{title:"Register Onsite",children:[o&&(0,p.jsx)("div",{className:"alert alert-danger",children:o}),u&&(0,p.jsx)("div",{className:"alert alert-success",children:u}),(0,p.jsxs)("form",{onSubmit:B((async e=>{n(!0),c(null),h(null);try{const s="https://imc2025.imo.net/php/register.php",a={...e,is_early_bird:U.toString(),is_online:"false",talks:e.talks||[],posters:e.posters||[],total_due:x.toFixed(2),paypal_fee:M.toFixed(2)},t=await k.A.post(s,a,{headers:{"Content-Type":"application/json"}});t.data.success?h("Registration successful!"):c(t.data.message||"Something went wrong.")}catch(e){c("Failed to submit the form. Please try again.")}finally{n(!1)}})),className:"d-flex flex-grow-1 flex-column position-relative",children:[a&&(0,p.jsx)(y.A,{}),(0,p.jsx)("input",{name:"is_early_bird",type:"hidden",value:U,...z("is_early_bird")}),(0,p.jsx)("input",{name:"is_online",type:"hidden",value:"false",...z("is_online")}),1===e&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("p",{className:"border rounded-2 p-3",children:[(0,p.jsx)("b",{children:"People who need an invitation letter for Visa"})," must send their request without any delay to imc",D.p.year,"@imo.net. Please, provide your legal private domicile or professional address, passport number and the address of the ",D.p.consulate," where your visa application will be submitted."]}),new Date<new Date(D.p.deadlines.early_birds)&&(0,p.jsxs)("p",{className:"d-flex border rounded-2 p-3 border-info text-info gap-2 mb-5",children:[(0,p.jsx)(r.tP6,{className:l.A.warning}),(0,p.jsxs)("span",{children:[(0,p.jsxs)("span",{className:"d-block fw-bolder",children:["Hurry up! After ",(0,m.Lu)(D.p.deadlines.early_birds),", a late booking fee of ",D.p.costs.after_early_birds,"€ is added to the registration fee"]}),(0,p.jsx)("small",{children:"— because the early birds got the discount, and the latecomers just get the worms (and a fee :)."})]})]})]}),1===e&&(0,p.jsx)(f.A,{register:z,errors:P,isDebugMode:F,initialData:R,step:e,stepTotal:8,setValue:H,trigger:O}),2===e&&D.p?.workshops?.length>0&&(0,p.jsx)(w.A,{conferenceData:D.p,register:z,errors:P,isDebugMode:F,initialData:R,step:e,stepTotal:8,setValue:H,trigger:O,watch:$}),3===e&&(0,p.jsx)(b,{conferenceData:D.p,register:z,errors:P,isDebugMode:F,initialData:R,step:e,stepTotal:8,setValue:H,trigger:O}),4===e&&(0,p.jsx)(j.A,{conferenceData:D.p,control:V,register:z,isDebugMode:F,errors:P,step:e,stepTotal:8,setValue:H,trigger:O,watch:$,initialData:{talks:E("talks")||[],posters:E("posters")||[]}}),5===e&&(0,p.jsx)(i.A,{conferenceData:D.p,control:V,register:z,isDebugMode:F,initialData:R,isEarlyBird:U,errors:P,step:e,stepTotal:8,setValue:H,trigger:O}),6===e&&(0,p.jsx)(v,{conferenceData:D.p,register:z,errors:P,isDebugMode:F,initialData:R,step:e,stepTotal:8,setValue:H,trigger:O}),7===e&&(0,p.jsx)(g.A,{register:z,errors:P,isDebugMode:F,initialData:R,isUnder16:L,showGdpr:!0,step:e,stepTotal:8,setValue:H,trigger:O}),8===e&&(0,p.jsx)(N.A,{getValues:E,isEarlyBird:U,conferenceData:D.p,setTotal:T,setPaypalFee:q,initialData:R}),(0,p.jsx)("div",{className:"mt-auto pt-3",children:(0,p.jsxs)("div",{className:"d-flex gap-3 justify-content-end",children:[e>1&&(0,p.jsxs)("button",{className:"btn btn-outline-primary fw-bolder d-inline-flex align-items-center gap-2",type:"button",onClick:()=>s(e-1),children:[(0,p.jsx)(t.SnO,{style:{strokeWidth:"110px"}})," Back"]}),e<8&&(0,p.jsxs)("button",{className:"btn btn-outline-primary fw-bolder d-inline-flex align-items-center gap-2",type:"button",onClick:async()=>{await O()&&s(e+1)},children:["Continue ",(0,p.jsx)(t.dH8,{style:{strokeWidth:"110px"}})]}),8===e&&(0,p.jsx)("button",{className:"btn btn-primary fw-bolder",type:"submit",children:"Submit"})]})})]})]}):(0,p.jsx)(_.A,{title:"Register Onsite",children:"Come back soon…"})}},9066:(e,s,a)=>{a.d(s,{A:()=>t});const t={root:"index-module__root--arE76","is-admin":"index-module__is-admin--SeEAz",warning:"index-module__warning--GHhh2"}}}]);